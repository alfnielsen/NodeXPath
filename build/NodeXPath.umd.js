!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("fs"),require("constants"),require("stream"),require("util"),require("assert"),require("path"),require("glob-promise")):"function"==typeof define&&define.amd?define(["exports","fs","constants","stream","util","assert","path","glob-promise"],t):t((e||self).nodeXPath={},e.fs,e.constants,e.require$$0$4,e.util,e.assert,e.path,e.globPromise)}(this,function(e,t,n,r,i,o,c,s){function a(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var u=/*#__PURE__*/a(t),f=/*#__PURE__*/a(n),l=/*#__PURE__*/a(r),d=/*#__PURE__*/a(i),h=/*#__PURE__*/a(o),y=/*#__PURE__*/a(c),m=/*#__PURE__*/a(s);function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function E(e){var t={exports:{}};return e(t,t.exports),t.exports}var P={fromCallback:function(e){return Object.defineProperty(function(...t){if("function"!=typeof t[t.length-1])return new Promise((n,r)=>{e.call(this,...t,(e,t)=>null!=e?r(e):n(t))});e.apply(this,t)},"name",{value:e.name})},fromPromise:function(e){return Object.defineProperty(function(...t){const n=t[t.length-1];if("function"!=typeof n)return e.apply(this,t);e.apply(this,t.slice(0,-1)).then(e=>n(null,e),n)},"name",{value:e.name})}},b=process.cwd,g=null,k=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return g||(g=b.call(process)),g};try{process.cwd()}catch(e){}if("function"==typeof process.chdir){var F=process.chdir;process.chdir=function(e){g=null,F.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,F)}var O=l.default.Stream,x=Object.getPrototypeOf||function(e){return e.__proto__},N=E(function(e){var t,n;function r(e,n){Object.defineProperty(e,t,{get:function(){return n}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(t=Symbol.for("graceful-fs.queue"),n=Symbol.for("graceful-fs.previous")):(t="___graceful-fs.queue",n="___graceful-fs.previous");var i,o=function(){};function c(e){(function(e){function t(t){return t?function(n,r,i){return t.call(e,n,r,function(e){s(e)&&(e=null),i&&i.apply(this,arguments)})}:t}function n(t){return t?function(n,r){try{return t.call(e,n,r)}catch(e){if(!s(e))throw e}}:t}function r(t){return t?function(n,r,i,o){return t.call(e,n,r,i,function(e){s(e)&&(e=null),o&&o.apply(this,arguments)})}:t}function i(t){return t?function(n,r,i){try{return t.call(e,n,r,i)}catch(e){if(!s(e))throw e}}:t}function o(t){return t?function(n,r,i){function o(e,t){t&&(t.uid<0&&(t.uid+=4294967296),t.gid<0&&(t.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?t.call(e,n,r,o):t.call(e,n,o)}:t}function c(t){return t?function(n,r){var i=r?t.call(e,n,r):t.call(e,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:t}function s(e){return!e||"ENOSYS"===e.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==e.code&&"EPERM"!==e.code)}var a;f.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(e){e.lchmod=function(t,n,r){e.open(t,f.default.O_WRONLY|f.default.O_SYMLINK,n,function(t,i){t?r&&r(t):e.fchmod(i,n,function(t){e.close(i,function(e){r&&r(t||e)})})})},e.lchmodSync=function(t,n){var r,i=e.openSync(t,f.default.O_WRONLY|f.default.O_SYMLINK,n),o=!0;try{r=e.fchmodSync(i,n),o=!1}finally{if(o)try{e.closeSync(i)}catch(e){}else e.closeSync(i)}return r}}(e),e.lutimes||function(e){f.default.hasOwnProperty("O_SYMLINK")&&e.futimes?(e.lutimes=function(t,n,r,i){e.open(t,f.default.O_SYMLINK,function(t,o){t?i&&i(t):e.futimes(o,n,r,function(t){e.close(o,function(e){i&&i(t||e)})})})},e.lutimesSync=function(t,n,r){var i,o=e.openSync(t,f.default.O_SYMLINK),c=!0;try{i=e.futimesSync(o,n,r),c=!1}finally{if(c)try{e.closeSync(o)}catch(e){}else e.closeSync(o)}return i}):e.futimes&&(e.lutimes=function(e,t,n,r){r&&process.nextTick(r)},e.lutimesSync=function(){})}(e),e.chown=r(e.chown),e.fchown=r(e.fchown),e.lchown=r(e.lchown),e.chmod=t(e.chmod),e.fchmod=t(e.fchmod),e.lchmod=t(e.lchmod),e.chownSync=i(e.chownSync),e.fchownSync=i(e.fchownSync),e.lchownSync=i(e.lchownSync),e.chmodSync=n(e.chmodSync),e.fchmodSync=n(e.fchmodSync),e.lchmodSync=n(e.lchmodSync),e.stat=o(e.stat),e.fstat=o(e.fstat),e.lstat=o(e.lstat),e.statSync=c(e.statSync),e.fstatSync=c(e.fstatSync),e.lstatSync=c(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(e,t,n){n&&process.nextTick(n)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(e,t,n,r){r&&process.nextTick(r)},e.lchownSync=function(){}),"win32"===k&&(e.rename="function"!=typeof e.rename?e.rename:function(t){function n(n,r,i){var o=Date.now(),c=0;t(n,r,function s(a){if(a&&("EACCES"===a.code||"EPERM"===a.code||"EBUSY"===a.code)&&Date.now()-o<6e4)return setTimeout(function(){e.stat(r,function(e,o){e&&"ENOENT"===e.code?t(n,r,s):i(a)})},c),void(c<100&&(c+=10));i&&i(a)})}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.rename)),e.read="function"!=typeof e.read?e.read:function(t){function n(n,r,i,o,c,s){var a;if(s&&"function"==typeof s){var u=0;a=function(f,l,d){if(f&&"EAGAIN"===f.code&&u<10)return u++,t.call(e,n,r,i,o,c,a);s.apply(this,arguments)}}return t.call(e,n,r,i,o,c,a)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,t),n}(e.read),e.readSync="function"!=typeof e.readSync?e.readSync:(a=e.readSync,function(t,n,r,i,o){for(var c=0;;)try{return a.call(e,t,n,r,i,o)}catch(e){if("EAGAIN"===e.code&&c<10){c++;continue}throw e}})})(e),e.gracefulify=c,e.createReadStream=function(t,n){return new e.ReadStream(t,n)},e.createWriteStream=function(t,n){return new e.WriteStream(t,n)};var t=e.readFile;e.readFile=function(e,n,r){return"function"==typeof n&&(r=n,n=null),function e(n,r,i,o){return t(n,r,function(t){!t||"EMFILE"!==t.code&&"ENFILE"!==t.code?"function"==typeof i&&i.apply(this,arguments):s([e,[n,r,i],t,o||Date.now(),Date.now()])})}(e,n,r)};var n=e.writeFile;e.writeFile=function(e,t,r,i){return"function"==typeof r&&(i=r,r=null),function e(t,r,i,o,c){return n(t,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):s([e,[t,r,i,o],n,c||Date.now(),Date.now()])})}(e,t,r,i)};var r=e.appendFile;r&&(e.appendFile=function(e,t,n,i){return"function"==typeof n&&(i=n,n=null),function e(t,n,i,o,c){return r(t,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):s([e,[t,n,i,o],r,c||Date.now(),Date.now()])})}(e,t,n,i)});var i=e.copyFile;i&&(e.copyFile=function(e,t,n,r){return"function"==typeof n&&(r=n,n=0),function e(t,n,r,o,c){return i(t,n,r,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):s([e,[t,n,r,o],i,c||Date.now(),Date.now()])})}(e,t,n,r)});var o=e.readdir;e.readdir=function(e,t,n){"function"==typeof t&&(n=t,t=null);var r=a.test(process.version)?function(e,t,n,r){return o(e,i(e,t,n,r))}:function(e,t,n,r){return o(e,t,i(e,t,n,r))};return r(e,t,n);function i(e,t,n,i){return function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(c&&c.sort&&c.sort(),"function"==typeof n&&n.call(this,o,c)):s([r,[e,t,n],o,i||Date.now(),Date.now()])}}};var a=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=function(e){return{ReadStream:function t(n,r){if(!(this instanceof t))return new t(n,r);O.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var o=Object.keys(r),c=0,s=o.length;c<s;c++){var a=o[c];this[a]=r[a]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=Infinity;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?e.open(this.path,this.flags,this.mode,function(e,t){if(e)return i.emit("error",e),void(i.readable=!1);i.fd=t,i.emit("open",t),i._read()}):process.nextTick(function(){i._read()})},WriteStream:function t(n,r){if(!(this instanceof t))return new t(n,r);O.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),o=0,c=i.length;o<c;o++){var s=i[o];this[s]=r[s]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}(e);m=u.ReadStream,p=u.WriteStream}var l=e.ReadStream;l&&(m.prototype=Object.create(l.prototype),m.prototype.open=function(){var e=this;S(e.path,e.flags,e.mode,function(t,n){t?(e.autoClose&&e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n),e.read())})});var d=e.WriteStream;d&&(p.prototype=Object.create(d.prototype),p.prototype.open=function(){var e=this;S(e.path,e.flags,e.mode,function(t,n){t?(e.destroy(),e.emit("error",t)):(e.fd=n,e.emit("open",n))})}),Object.defineProperty(e,"ReadStream",{get:function(){return m},set:function(e){m=e},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return p},set:function(e){p=e},enumerable:!0,configurable:!0});var h=m;Object.defineProperty(e,"FileReadStream",{get:function(){return h},set:function(e){h=e},enumerable:!0,configurable:!0});var y=p;function m(e,t){return this instanceof m?(l.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}function p(e,t){return this instanceof p?(d.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}Object.defineProperty(e,"FileWriteStream",{get:function(){return y},set:function(e){y=e},enumerable:!0,configurable:!0});var v=e.open;function S(e,t,n,r){return"function"==typeof n&&(r=n,n=null),function e(t,n,r,i,o){return v(t,n,r,function(c,a){!c||"EMFILE"!==c.code&&"ENFILE"!==c.code?"function"==typeof i&&i.apply(this,arguments):s([e,[t,n,r,i],c,o||Date.now(),Date.now()])})}(e,t,n,r)}return e.open=S,e}function s(e){o("ENQUEUE",e[0].name,e[1]),u.default[t].push(e),l()}function a(){for(var e=Date.now(),n=0;n<u.default[t].length;++n)u.default[t][n].length>2&&(u.default[t][n][3]=e,u.default[t][n][4]=e);l()}function l(){if(clearTimeout(i),i=void 0,0!==u.default[t].length){var e=u.default[t].shift(),n=e[0],r=e[1],c=e[2],s=e[3],a=e[4];if(void 0===s)o("RETRY",n.name,r),n.apply(null,r);else if(Date.now()-s>=6e4){o("TIMEOUT",n.name,r);var f=r.pop();"function"==typeof f&&f.call(null,c)}else{var d=Date.now()-a,h=Math.max(a-s,1);d>=Math.min(1.2*h,100)?(o("RETRY",n.name,r),n.apply(null,r.concat([s]))):u.default[t].push(e)}void 0===i&&(i=setTimeout(l,0))}}d.default.debuglog?o=d.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(o=function(){var e=d.default.format.apply(d.default,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)}),u.default[t]||(r(u.default,w[t]||[]),u.default.close=function(e){function t(t,n){return e.call(u.default,t,function(e){e||a(),"function"==typeof n&&n.apply(this,arguments)})}return Object.defineProperty(t,n,{value:e}),t}(u.default.close),u.default.closeSync=function(e){function t(t){e.apply(u.default,arguments),a()}return Object.defineProperty(t,n,{value:e}),t}(u.default.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){o(u.default[t]),h.default.equal(u.default[t].length,0)})),w[t]||r(w,u.default[t]),e.exports=c(function(e){if(null===e||"object"!=typeof e)return e;if(e instanceof Object)var t={__proto__:x(e)};else t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}),t}(u.default)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!u.default.__patched&&(e.exports=c(u.default),u.default.__patched=!0)}),j=P,D=N,T=E(function(e,t){const n=j.fromCallback,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>"function"==typeof D[e]);Object.assign(t,D),r.forEach(e=>{t[e]=n(D[e])}),t.exists=function(e,t){return"function"==typeof t?D.exists(e,t):new Promise(t=>D.exists(e,t))},t.read=function(e,t,n,r,i,o){return"function"==typeof o?D.read(e,t,n,r,i,o):new Promise((o,c)=>{D.read(e,t,n,r,i,(e,t,n)=>{if(e)return c(e);o({bytesRead:t,buffer:n})})})},t.write=function(e,t,...n){return"function"==typeof n[n.length-1]?D.write(e,t,...n):new Promise((r,i)=>{D.write(e,t,...n,(e,t,n)=>{if(e)return i(e);r({bytesWritten:t,buffer:n})})})},"function"==typeof D.writev&&(t.writev=function(e,t,...n){return"function"==typeof n[n.length-1]?D.writev(e,t,...n):new Promise((r,i)=>{D.writev(e,t,...n,(e,t,n)=>{if(e)return i(e);r({bytesWritten:t,buffers:n})})})}),"function"==typeof D.realpath.native?t.realpath.native=n(D.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}),C=T,I={checkPath:function(e){if("win32"===process.platform&&/[<>:"|?*]/.test(e.replace(y.default.parse(e).root,""))){const t=new Error(`Path contains invalid characters: ${e}`);throw t.code="EINVAL",t}}};const{checkPath:L}=I,R=e=>"number"==typeof e?e:{mode:511,...e}.mode;var _={makeDir:async(e,t)=>(L(e),C.mkdir(e,{mode:R(t),recursive:!0})),makeDirSync:(e,t)=>(L(e),C.mkdirSync(e,{mode:R(t),recursive:!0}))};const $=j.fromPromise,{makeDir:J,makeDirSync:M}=_,W=$(J);var A={mkdirs:W,mkdirsSync:M,mkdirp:W,mkdirpSync:M,ensureDir:W,ensureDirSync:M},q={pathExists:(0,j.fromPromise)(function(e){return C.access(e).then(()=>!0).catch(()=>!1)}),pathExistsSync:C.existsSync};function U(e,t,n){const r=n.dereference?e=>C.stat(e,{bigint:!0}):e=>C.lstat(e,{bigint:!0});return Promise.all([r(e),r(t).catch(e=>{if("ENOENT"===e.code)return null;throw e})]).then(([e,t])=>({srcStat:e,destStat:t}))}function Y(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function B(e,t){const n=y.default.resolve(e).split(y.default.sep).filter(e=>e),r=y.default.resolve(t).split(y.default.sep).filter(e=>e);return n.reduce((e,t,n)=>e&&r[n]===t,!0)}function G(e,t,n){return`Cannot ${n} '${e}' to a subdirectory of itself, '${t}'.`}var X={checkPaths:function(e,t,n,r,i){d.default.callbackify(U)(e,t,r,(r,o)=>{if(r)return i(r);const{srcStat:c,destStat:s}=o;if(s){if(Y(c,s)){const r=y.default.basename(e),o=y.default.basename(t);return"move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase()?i(null,{srcStat:c,destStat:s,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!s.isDirectory())return i(new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`));if(!c.isDirectory()&&s.isDirectory())return i(new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`))}return c.isDirectory()&&B(e,t)?i(new Error(G(e,t,n))):i(null,{srcStat:c,destStat:s})})},checkPathsSync:function(e,t,n,r){const{srcStat:i,destStat:o}=function(e,t,n){let r;const i=n.dereference?e=>C.statSync(e,{bigint:!0}):e=>C.lstatSync(e,{bigint:!0}),o=i(e);try{r=i(t)}catch(e){if("ENOENT"===e.code)return{srcStat:o,destStat:null};throw e}return{srcStat:o,destStat:r}}(e,t,r);if(o){if(Y(i,o)){const r=y.default.basename(e),c=y.default.basename(t);if("move"===n&&r!==c&&r.toLowerCase()===c.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${t}' with directory '${e}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${t}' with non-directory '${e}'.`)}if(i.isDirectory()&&B(e,t))throw new Error(G(e,t,n));return{srcStat:i,destStat:o}},checkParentPaths:function e(t,n,r,i,o){const c=y.default.resolve(y.default.dirname(t)),s=y.default.resolve(y.default.dirname(r));if(s===c||s===y.default.parse(s).root)return o();C.stat(s,{bigint:!0},(c,a)=>c?"ENOENT"===c.code?o():o(c):Y(n,a)?o(new Error(G(t,r,i))):e(t,n,s,i,o))},checkParentPathsSync:function e(t,n,r,i){const o=y.default.resolve(y.default.dirname(t)),c=y.default.resolve(y.default.dirname(r));if(c===o||c===y.default.parse(c).root)return;let s;try{s=C.statSync(c,{bigint:!0})}catch(e){if("ENOENT"===e.code)return;throw e}if(Y(n,s))throw new Error(G(t,r,i));return e(t,n,c,i)},isSrcSubdir:B,areIdentical:Y},K=A,V=q,z=X;const H=K.mkdirs,Q=V.pathExists,Z=function(e,t,n,r){D.open(e,"r+",(e,i)=>{if(e)return r(e);D.futimes(i,t,n,e=>{D.close(i,t=>{r&&r(e||t)})})})};function ee(e,t,n,r,i){const o=y.default.dirname(n);Q(o,(c,s)=>c?i(c):s?ne(e,t,n,r,i):void H(o,o=>o?i(o):ne(e,t,n,r,i)))}function te(e,t,n,r,i,o){Promise.resolve(i.filter(n,r)).then(c=>c?e(t,n,r,i,o):o(),e=>o(e))}function ne(e,t,n,r,i){(r.dereference?D.stat:D.lstat)(t,(o,c)=>o?i(o):c.isDirectory()?function(e,t,n,r,i,o){return t?ce(n,r,i,o):function(e,t,n,r,i){D.mkdir(n,o=>{if(o)return i(o);ce(t,n,r,t=>t?i(t):oe(n,e,i))})}(e.mode,n,r,i,o)}(c,e,t,n,r,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(e,t,n,r,i,o){return t?function(e,t,n,r,i){if(!r.overwrite)return r.errorOnExist?i(new Error(`'${n}' already exists`)):i();D.unlink(n,o=>o?i(o):re(e,t,n,r,i))}(e,n,r,i,o):re(e,n,r,i,o)}(c,e,t,n,r,i):c.isSymbolicLink()?function(e,t,n,r,i){D.readlink(t,(t,o)=>t?i(t):(r.dereference&&(o=y.default.resolve(process.cwd(),o)),e?void D.readlink(n,(t,c)=>t?"EINVAL"===t.code||"UNKNOWN"===t.code?D.symlink(o,n,i):i(t):(r.dereference&&(c=y.default.resolve(process.cwd(),c)),z.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):e.isDirectory()&&z.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):function(e,t,n){D.unlink(t,r=>r?n(r):D.symlink(e,t,n))}(o,n,i))):D.symlink(o,n,i)))}(e,t,n,r,i):c.isSocket()?i(new Error(`Cannot copy a socket file: ${t}`)):c.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${t}`)):i(new Error(`Unknown file: ${t}`)))}function re(e,t,n,r,i){D.copyFile(t,n,o=>o?i(o):r.preserveTimestamps?function(e,t,n,r){return function(e){return 0==(128&e)}(e)?function(e,t,n){return oe(e,128|t,n)}(n,e,i=>i?r(i):ie(e,t,n,r)):ie(e,t,n,r)}(e.mode,t,n,i):oe(n,e.mode,i))}function ie(e,t,n,r){!function(e,t,n){D.stat(e,(e,r)=>e?n(e):Z(t,r.atime,r.mtime,n))}(t,n,t=>t?r(t):oe(n,e,r))}function oe(e,t,n){return D.chmod(e,t,n)}function ce(e,t,n,r){D.readdir(e,(i,o)=>i?r(i):se(o,e,t,n,r))}function se(e,t,n,r,i){const o=e.pop();return o?function(e,t,n,r,i,o){const c=y.default.join(n,t),s=y.default.join(r,t);z.checkPaths(c,s,"copy",i,(t,a)=>{if(t)return o(t);const{destStat:u}=a;!function(e,t,n,r,i){r.filter?te(ne,e,t,n,r,i):ne(e,t,n,r,i)}(u,c,s,i,t=>t?o(t):se(e,n,r,i,o))})}(e,o,t,n,r,i):i()}const ae=K.mkdirsSync,ue=function(e,t,n){const r=D.openSync(e,"r+");return D.futimesSync(r,t,n),D.closeSync(r)};function fe(e,t,n,r){const i=(r.dereference?D.statSync:D.lstatSync)(t);if(i.isDirectory())return function(e,t,n,r,i){return t?he(n,r,i):function(e,t,n,r){return D.mkdirSync(n),he(t,n,r),de(n,e)}(e.mode,n,r,i)}(i,e,t,n,r);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return function(e,t,n,r,i){return t?function(e,t,n,r){if(r.overwrite)return D.unlinkSync(n),le(e,t,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(e,n,r,i):le(e,n,r,i)}(i,e,t,n,r);if(i.isSymbolicLink())return function(e,t,n,r){let i=D.readlinkSync(t);if(r.dereference&&(i=y.default.resolve(process.cwd(),i)),e){let e;try{e=D.readlinkSync(n)}catch(e){if("EINVAL"===e.code||"UNKNOWN"===e.code)return D.symlinkSync(i,n);throw e}if(r.dereference&&(e=y.default.resolve(process.cwd(),e)),z.isSrcSubdir(i,e))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${e}'.`);if(D.statSync(n).isDirectory()&&z.isSrcSubdir(e,i))throw new Error(`Cannot overwrite '${e}' with '${i}'.`);return function(e,t){return D.unlinkSync(t),D.symlinkSync(e,t)}(i,n)}return D.symlinkSync(i,n)}(e,t,n,r);if(i.isSocket())throw new Error(`Cannot copy a socket file: ${t}`);if(i.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${t}`);throw new Error(`Unknown file: ${t}`)}function le(e,t,n,r){return D.copyFileSync(t,n),r.preserveTimestamps&&function(e,t,n){(function(e){return 0==(128&e)})(e)&&function(e,t){de(e,128|t)}(n,e),function(e,t){const n=D.statSync(e);ue(t,n.atime,n.mtime)}(t,n)}(e.mode,t,n),de(n,e.mode)}function de(e,t){return D.chmodSync(e,t)}function he(e,t,n){D.readdirSync(e).forEach(r=>function(e,t,n,r){const i=y.default.join(t,e),o=y.default.join(n,e),{destStat:c}=z.checkPathsSync(i,o,"copy",r);return function(e,t,n,r){if(!r.filter||r.filter(t,n))return fe(e,t,n,r)}(c,i,o,r)}(r,e,t,n))}var ye={copy:(0,j.fromCallback)(function(e,t,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),z.checkPaths(e,t,"copy",n,(i,o)=>{if(i)return r(i);const{srcStat:c,destStat:s}=o;z.checkParentPaths(e,c,t,"copy",i=>i?r(i):n.filter?te(ee,s,e,t,n,r):ee(s,e,t,n,r))})}),copySync:function(e,t,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:r,destStat:i}=z.checkPathsSync(e,t,"copy",n);return z.checkParentPathsSync(e,r,t,"copy"),function(e,t,n,r){if(r.filter&&!r.filter(t,n))return;const i=y.default.dirname(n);return D.existsSync(i)||ae(i),fe(e,t,n,r)}(i,e,t,n)}};const me="win32"===process.platform;function pe(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(t=>{e[t]=e[t]||D[t],e[t+="Sync"]=e[t]||D[t]}),e.maxBusyTries=e.maxBusyTries||3}function ve(e,t,n){let r=0;"function"==typeof t&&(n=t,t={}),h.default(e,"rimraf: missing path"),h.default.strictEqual(typeof e,"string","rimraf: path should be a string"),h.default.strictEqual(typeof n,"function","rimraf: callback function required"),h.default(t,"rimraf: invalid options argument provided"),h.default.strictEqual(typeof t,"object","rimraf: options should be object"),pe(t),Se(e,t,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<t.maxBusyTries)return r++,setTimeout(()=>Se(e,t,i),100*r);"ENOENT"===o.code&&(o=null)}n(o)})}function Se(e,t,n){h.default(e),h.default(t),h.default("function"==typeof n),t.lstat(e,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&me?we(e,t,r,n):i&&i.isDirectory()?Pe(e,t,r,n):void t.unlink(e,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return me?we(e,t,r,n):Pe(e,t,r,n);if("EISDIR"===r.code)return Pe(e,t,r,n)}return n(r)}))}function we(e,t,n,r){h.default(e),h.default(t),h.default("function"==typeof r),t.chmod(e,438,i=>{i?r("ENOENT"===i.code?null:n):t.stat(e,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?Pe(e,t,n,r):t.unlink(e,r)})})}function Ee(e,t,n){let r;h.default(e),h.default(t);try{t.chmodSync(e,438)}catch(e){if("ENOENT"===e.code)return;throw n}try{r=t.statSync(e)}catch(e){if("ENOENT"===e.code)return;throw n}r.isDirectory()?ge(e,t,n):t.unlinkSync(e)}function Pe(e,t,n,r){h.default(e),h.default(t),h.default("function"==typeof r),t.rmdir(e,i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?r(i&&"ENOTDIR"===i.code?n:i):function(e,t,n){h.default(e),h.default(t),h.default("function"==typeof n),t.readdir(e,(r,i)=>{if(r)return n(r);let o,c=i.length;if(0===c)return t.rmdir(e,n);i.forEach(r=>{ve(y.default.join(e,r),t,r=>{if(!o)return r?n(o=r):void(0==--c&&t.rmdir(e,n))})})})}(e,t,r)})}function be(e,t){let n;pe(t=t||{}),h.default(e,"rimraf: missing path"),h.default.strictEqual(typeof e,"string","rimraf: path should be a string"),h.default(t,"rimraf: missing options"),h.default.strictEqual(typeof t,"object","rimraf: options should be object");try{n=t.lstatSync(e)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&me&&Ee(e,t,n)}try{n&&n.isDirectory()?ge(e,t,null):t.unlinkSync(e)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return me?Ee(e,t,n):ge(e,t,n);if("EISDIR"!==n.code)throw n;ge(e,t,n)}}function ge(e,t,n){h.default(e),h.default(t);try{t.rmdirSync(e)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(e,t){if(h.default(e),h.default(t),t.readdirSync(e).forEach(n=>be(y.default.join(e,n),t)),!me)return t.rmdirSync(e,t);{const n=Date.now();do{try{return t.rmdirSync(e,t)}catch{}}while(Date.now()-n<500)}}(e,t);else if("ENOENT"!==r.code)throw r}}var ke=ve;ve.sync=be;var Fe=ke,Oe={remove:(0,j.fromCallback)(function(e,t){if(D.rm)return D.rm(e,{recursive:!0,force:!0},t);Fe(e,t)}),removeSync:function(e){if(D.rmSync)return D.rmSync(e,{recursive:!0,force:!0});Fe.sync(e)}},xe=Oe;const Ne=(0,j.fromPromise)(async function(e){let t;try{t=await C.readdir(e)}catch{return K.mkdirs(e)}return Promise.all(t.map(t=>xe.remove(y.default.join(e,t))))});function je(e){let t;try{t=C.readdirSync(e)}catch{return K.mkdirsSync(e)}t.forEach(t=>{t=y.default.join(e,t),xe.removeSync(t)})}var De={emptyDirSync:je,emptydirSync:je,emptyDir:Ne,emptydir:Ne},Te={createFile:(0,j.fromCallback)(function(e,t){function n(){D.writeFile(e,"",e=>{if(e)return t(e);t()})}D.stat(e,(r,i)=>{if(!r&&i.isFile())return t();const o=y.default.dirname(e);D.stat(o,(e,r)=>{if(e)return"ENOENT"===e.code?K.mkdirs(o,e=>{if(e)return t(e);n()}):t(e);r.isDirectory()?n():D.readdir(o,e=>{if(e)return t(e)})})})}),createFileSync:function(e){let t;try{t=D.statSync(e)}catch{}if(t&&t.isFile())return;const n=y.default.dirname(e);try{D.statSync(n).isDirectory()||D.readdirSync(n)}catch(e){if(!e||"ENOENT"!==e.code)throw e;K.mkdirsSync(n)}D.writeFileSync(e,"")}};const Ce=j.fromCallback,Ie=V.pathExists,{areIdentical:Le}=z;var Re={createLink:Ce(function(e,t,n){function r(e,t){D.link(e,t,e=>{if(e)return n(e);n(null)})}D.lstat(t,(i,o)=>{D.lstat(e,(i,c)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);if(o&&Le(c,o))return n(null);const s=y.default.dirname(t);Ie(s,(i,o)=>i?n(i):o?r(e,t):void K.mkdirs(s,i=>{if(i)return n(i);r(e,t)}))})})}),createLinkSync:function(e,t){let n;try{n=D.lstatSync(t)}catch{}try{const t=D.lstatSync(e);if(n&&Le(t,n))return}catch(e){throw e.message=e.message.replace("lstat","ensureLink"),e}const r=y.default.dirname(t);return D.existsSync(r)||K.mkdirsSync(r),D.linkSync(e,t)}};const _e=V.pathExists,$e=j.fromCallback,Je=K.mkdirs,Me=K.mkdirsSync,We=V.pathExists,{areIdentical:Ae}=z;function qe(e,t,n,r){!function(e,t,n){if(y.default.isAbsolute(e))return D.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:e}));{const r=y.default.dirname(t),i=y.default.join(r,e);_e(i,(t,o)=>t?n(t):o?n(null,{toCwd:i,toDst:e}):D.lstat(e,t=>t?(t.message=t.message.replace("lstat","ensureSymlink"),n(t)):n(null,{toCwd:e,toDst:y.default.relative(r,e)})))}}(e,t,(i,o)=>{if(i)return r(i);e=o.toDst,function(e,t,n){if(n="function"==typeof t?t:n,t="function"!=typeof t&&t)return n(null,t);D.lstat(e,(e,r)=>{if(e)return n(null,"file");t=r&&r.isDirectory()?"dir":"file",n(null,t)})}(o.toCwd,n,(n,i)=>{if(n)return r(n);const o=y.default.dirname(t);We(o,(n,c)=>n?r(n):c?C.symlink(e,t,i,r):void Je(o,n=>{if(n)return r(n);C.symlink(e,t,i,r)}))})})}var Ue=Te,Ye=Re,Be={createSymlink:$e(function(e,t,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,C.lstat(t,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([C.stat(e),C.stat(t)]).then(([i,o])=>{if(Ae(i,o))return r(null);qe(e,t,n,r)}):qe(e,t,n,r)})}),createSymlinkSync:function(e,t,n){let r;try{r=C.lstatSync(t)}catch{}if(r&&r.isSymbolicLink()){const n=C.statSync(e),r=C.statSync(t);if(Ae(n,r))return}const i=function(e,t){let n;if(y.default.isAbsolute(e)){if(n=D.existsSync(e),!n)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}{const r=y.default.dirname(t),i=y.default.join(r,e);if(n=D.existsSync(i),n)return{toCwd:i,toDst:e};if(n=D.existsSync(e),!n)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:y.default.relative(r,e)}}}(e,t);e=i.toDst,n=function(e,t){let n;if(t)return t;try{n=D.lstatSync(e)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}(i.toCwd,n);const o=y.default.dirname(t);return C.existsSync(o)||Me(o),C.symlinkSync(e,t,n)}};const{createFile:Ge,createFileSync:Xe}=Ue,{createLink:Ke,createLinkSync:Ve}=Ye,{createSymlink:ze,createSymlinkSync:He}=Be;var Qe={createFile:Ge,createFileSync:Xe,ensureFile:Ge,ensureFileSync:Xe,createLink:Ke,createLinkSync:Ve,ensureLink:Ke,ensureLinkSync:Ve,createSymlink:ze,createSymlinkSync:He,ensureSymlink:ze,ensureSymlinkSync:He},Ze={stringify:function(e,{EOL:t="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?t:"";return JSON.stringify(e,r,i).replace(/\n/g,t)+o},stripBom:function(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}};let et;try{et=D}catch(e){et=u.default}const{stringify:tt,stripBom:nt}=Ze,rt=j.fromPromise(async function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||et,r=!("throws"in t)||t.throws;let i,o=await j.fromCallback(n.readFile)(e,t);o=nt(o);try{i=JSON.parse(o,t?t.reviver:null)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}return i}),it=j.fromPromise(async function(e,t,n={}){const r=n.fs||et,i=tt(t,n);await j.fromCallback(r.writeFile)(e,i,n)}),ot={readFile:rt,readFileSync:function(e,t={}){"string"==typeof t&&(t={encoding:t});const n=t.fs||et,r=!("throws"in t)||t.throws;try{let r=n.readFileSync(e,t);return r=nt(r),JSON.parse(r,t.reviver)}catch(t){if(r)throw t.message=`${e}: ${t.message}`,t;return null}},writeFile:it,writeFileSync:function(e,t,n={}){const r=n.fs||et,i=tt(t,n);return r.writeFileSync(e,i,n)}};var ct={readJson:ot.readFile,readJsonSync:ot.readFileSync,writeJson:ot.writeFile,writeJsonSync:ot.writeFileSync};const st=V.pathExists;var at={outputFile:(0,j.fromCallback)(function(e,t,n,r){"function"==typeof n&&(r=n,n="utf8");const i=y.default.dirname(e);st(i,(o,c)=>o?r(o):c?D.writeFile(e,t,n,r):void K.mkdirs(i,i=>{if(i)return r(i);D.writeFile(e,t,n,r)}))}),outputFileSync:function(e,...t){const n=y.default.dirname(e);if(D.existsSync(n))return D.writeFileSync(e,...t);K.mkdirsSync(n),D.writeFileSync(e,...t)}},ut=at;const{stringify:ft}=Ze,{outputFile:lt}=ut,{stringify:dt}=Ze,{outputFileSync:ht}=ut;var yt=ct;yt.outputJson=(0,j.fromPromise)(async function(e,t,n={}){const r=ft(t,n);await lt(e,r,n)}),yt.outputJsonSync=function(e,t,n){const r=dt(t,n);ht(e,r,n)},yt.outputJSON=yt.outputJson,yt.outputJSONSync=yt.outputJsonSync,yt.writeJSON=yt.writeJson,yt.writeJSONSync=yt.writeJsonSync,yt.readJSON=yt.readJson,yt.readJSONSync=yt.readJsonSync;var mt=ye;const pt=mt.copy,vt=xe.remove,St=K.mkdirp,wt=V.pathExists;function Et(e,t,n,r,i){return r?Pt(e,t,n,i):n?vt(t,r=>r?i(r):Pt(e,t,n,i)):void wt(t,(r,o)=>r?i(r):o?i(new Error("dest already exists.")):Pt(e,t,n,i))}function Pt(e,t,n,r){D.rename(e,t,i=>i?"EXDEV"!==i.code?r(i):function(e,t,n,r){pt(e,t,{overwrite:n,errorOnExist:!0},t=>t?r(t):vt(e,r))}(e,t,n,r):r())}const bt=mt.copySync,gt=xe.removeSync,kt=K.mkdirpSync;function Ft(e,t,n){try{D.renameSync(e,t)}catch(r){if("EXDEV"!==r.code)throw r;return function(e,t,n){return bt(e,t,{overwrite:n,errorOnExist:!0}),gt(e)}(e,t,n)}}var Ot=De,xt=Qe,Nt=yt,jt={move:(0,j.fromCallback)(function(e,t,n,r){"function"==typeof n&&(r=n,n={});const i=(n=n||{}).overwrite||n.clobber||!1;z.checkPaths(e,t,"move",n,(n,o)=>{if(n)return r(n);const{srcStat:c,isChangingCase:s=!1}=o;z.checkParentPaths(e,c,t,"move",n=>n?r(n):function(e){const t=y.default.dirname(e);return y.default.parse(t).root===t}(t)?Et(e,t,i,s,r):void St(y.default.dirname(t),n=>n?r(n):Et(e,t,i,s,r)))})}),moveSync:function(e,t,n){const r=(n=n||{}).overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=z.checkPathsSync(e,t,"move",n);return z.checkParentPathsSync(e,i,t,"move"),function(e){const t=y.default.dirname(e);return y.default.parse(t).root===t}(t)||kt(y.default.dirname(t)),function(e,t,n,r){if(r)return Ft(e,t,n);if(n)return gt(t),Ft(e,t,n);if(D.existsSync(t))throw new Error("dest already exists.");return Ft(e,t,n)}(e,t,r,o)}},Dt={...C,...mt,...Ot,...xt,...Nt,...K,...jt,...ut,...V,...xe},Tt=["ignore","cwd","nocase","dot"],Ct=/*#__PURE__*/function(){function e(){this.fullPath="",this.exists=!1,this.stat=void 0,this.type="file",this.loaded=!1,this.content="",this.json=void 0,this.basename="",this.ext="",this.dir="",this.parentDir="",this.sep=y.default.sep}e.fromPath=function(t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);try{var i=new e;return Promise.resolve(i.setPath(t,n,r)).then(function(){return i})}catch(e){return Promise.reject(e)}},e.fromPathWithContent=function(t,n,r){void 0===r&&(r=!1);try{var i=new e;return Promise.resolve(i.setPath(t,!1,!1)).then(function(){return Promise.resolve(i.setContent(n,r)).then(function(){return i})})}catch(e){return Promise.reject(e)}},e.fromRelPath=function(t,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);try{var o=new e;return Promise.resolve(o.setRelPath(t,n,r,i)).then(function(){return o})}catch(e){return Promise.reject(e)}},e.fromRelPathWithContent=function(t,n,r,i){void 0===i&&(i=!1);try{var o=new e;return Promise.resolve(o.setRelPath(t,n,!1,!1)).then(function(){return Promise.resolve(o.setContent(r,i)).then(function(){return o})})}catch(e){return Promise.reject(e)}};var t=e.prototype;return t.setPath=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);try{var r=this;return r.fullPath=e,Promise.resolve(Dt.pathExists(e)).then(function(i){return r.exists=i,Promise.resolve(Dt.stat(e)).then(function(e){r.stat=e,r.type=r.stat.isFile()?"file":"dir",r.basename=y.default.basename(r.fullPath),r.ext=y.default.extname(r.fullPath),r.dir="dir"===r.type?r.fullPath:y.default.dirname(r.fullPath),r.parentDir=y.default.dirname(r.dir);var i=function(){if("file"===r.type&&t)return Promise.resolve(Dt.readFile(r.fullPath,{encoding:"utf8"})).then(function(e){r.content=e,r.loaded=!0,n&&r.parseJsonContent()})}();return i&&i.then?i.then(function(){return r}):r})})}catch(e){return Promise.reject(e)}},t.setRelPath=function(e,t,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);try{var i=this;return i.fullPath=y.default.join(e,t),Promise.resolve(i.setPath(i.fullPath,n,r)).then(function(){return i})}catch(e){return Promise.reject(e)}},t.relativeTo=function(e){return y.default.relative(this.fullPath,e)},t.relativeFrom=function(e){return y.default.relative(e,this.fullPath)},t.join=function(e){return y.default.join(this.fullPath,e)},t.joinTo=function(e){return y.default.join(e,this.fullPath)},t.getChildren=function(){try{return Promise.resolve("file"===this.type?[]:Dt.readdir(this.fullPath,{withFileTypes:!0}))}catch(e){return Promise.reject(e)}},t.getChildDirs=function(){try{return"file"===this.type?Promise.resolve([]):Promise.resolve(Dt.readdir(this.fullPath,{withFileTypes:!0})).then(function(e){return e.filter(function(e){return e.isDirectory()})})}catch(e){return Promise.reject(e)}},t.getChildFiles=function(){try{return"file"===this.type?Promise.resolve([]):Promise.resolve(Dt.readdir(this.fullPath,{withFileTypes:!0})).then(function(e){return e.filter(function(e){return e.isFile()})})}catch(e){return Promise.reject(e)}},t.loadContent=function(e){void 0===e&&(e=!0);try{var t=this;return Promise.resolve(Dt.readFile(t.fullPath,{encoding:"utf8"})).then(function(n){return t.content=n,t.loaded=!0,e&&t.parseJsonContent(),t})}catch(e){return Promise.reject(e)}},t.setContent=function(e,t){void 0===t&&(t=!0);try{var n=this;return n.content=e,n.loaded=!0,t&&n.parseJsonContent(),Promise.resolve(n)}catch(e){return Promise.reject(e)}},t.ensurePath=function(){try{return Promise.resolve(Dt.ensureDir(this.dir)).then(function(){})}catch(e){return Promise.reject(e)}},t.save=function(e){void 0===e&&(e="utf8");try{var t=this;return"file"!==t.type?Promise.resolve(void 0):Promise.resolve(t.ensurePath()).then(function(){return Promise.resolve(Dt.writeFile(t.fullPath,t.content,{encoding:e})).then(function(){return t.exists=!0,t})})}catch(e){return Promise.reject(e)}},t.delete=function(){try{var e=this,t=function(){if("file"===e.type&&e.exists)return Promise.resolve(Dt.remove(e.fullPath)).then(function(){e.exists=!1})}();return Promise.resolve(t&&t.then?t.then(function(){}):void 0)}catch(e){return Promise.reject(e)}},t.replaceContent=function(e,t){return this.content=this.content.replace(e,t),this},t.replacePath=function(e,t){return this.fullPath=this.fullPath.replace(e,t),this},t.replaceLines=function(e){var t=this.content.split("\n").map(function(t,n){return e(t,n)}).join("\n");return this.content=t,this},t.addIndent=function(e){return void 0===e&&(e=_t),this.content=e+this.content.replace(/\n/g,"\n"+e),this},t.lines=function(){return this.content.split("\n")},t.minIndent=function(e){void 0===e&&(e="        ");for(var t,n=e,r=S(this.lines());!(t=r()).done;){var i=t.value;if(!Rt.test(i)&&i[1].length<n.length){if(!i.match(Lt))continue;if(0===i[1].length)return"";n=i[1]}}return n},t.parseJsonContent=function(){if("file"===this.type&&this.content){try{this.json=JSON.parse(this.content)}catch(e){e instanceof SyntaxError&&(null==console.log||console.log("NodeXPath - ParseJson SyntaxError:",e))}return this}},t.parseJson=function(){if("file"===this.type&&this.content)try{return JSON.parse(this.content)}catch(e){e instanceof SyntaxError&&(null==console.log||console.log("NodeXPath - ParseJson SyntaxError:",e))}},e}();Ct.sep=y.default.sep;var It,Lt=/^\s*/,Rt=/^\s*$/,_t="    ",$t=["**/bin/**","**/node_modules/**","**/obj/**"],Jt=process.cwd();e.FileSearchType=void 0,(It=e.FileSearchType||(e.FileSearchType={})).exact="exact",It.start="start",It.end="end",It.contains="contains";var Mt=function(t){void 0===t&&(t={});var n=t.searchTerm,r=t.ext,i=t.searchType,o=t.multiplePreExtensions,c=void 0!==o&&o,s="**/";switch(void 0===i?e.FileSearchType.contains:i){case e.FileSearchType.exact:s+=""+n;break;case e.FileSearchType.start:s+=n+"*";break;case e.FileSearchType.end:s+="*"+n;break;case e.FileSearchType.contains:s+="*"+n+"*"}return c&&(s+="?(.!(.))"),r&&(s+="."+r),s},Wt={fromPath:Ct.fromPath,fromPathWithContent:Ct.fromPathWithContent,fromRelPath:Ct.fromRelPath,fromRelPathWithContent:Ct.fromRelPathWithContent,sep:y.default.sep,processCwd:Jt,standardGlobIngorePattern:$t,glob:function(e,t){var n=void 0===t?{}:t,r=n.ignore,i=void 0===r?$t:r,o=n.cwd,c=void 0===o?Jt:o,s=n.nocase,a=void 0===s||s,u=n.dot,f=void 0===u||u;try{return Promise.resolve(m.default(e,{ignore:i,cwd:c,nocase:a,dot:f}))}catch(e){return Promise.reject(e)}},searchFileName:function(e){void 0===e&&(e={});try{var t=e.ignore,n=e.cwd,r=e.nocase,i=e.dot,o=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(i[n]=e[n]);return i}(e,Tt),c=Mt(p({},o));return Promise.resolve(m.default(c,{ignore:t,cwd:n,nocase:r,dot:i}))}catch(e){return Promise.reject(e)}},filename:function(e){return y.default.basename(e)},dir:function(e){return y.default.dirname(e)},join:function(){return y.default.join.apply(y.default,[].slice.call(arguments))},lines:function(e){return e.split("\n")},trimEmptyLines:function(e){return e.replace(/^(\s*\n)+/,"").replace(/(\n\s*)+$/,"")},removeEmptyLines:function(e){return e.replace(/^\s*\n/gm,"")},addIndent:function(e,t){return void 0===t&&(t=_t),e.replace(/(^|\n)/g,"$1"+t)},removeIndent:function(e,t){return void 0===t&&(t=_t),e.replace(new RegExp("(^|\n)"+t,"g"),"$1")},minIndent:function(e,t){void 0===t&&(t="        ");for(var n,r=t,i=S(e.split("\n"));!(n=i()).done;){var o=n.value;if(0!==o.length&&!Rt.test(o)){var c=o.match(Lt);if(c){if(0===c[0].length)return"";c[0].length<r.length&&(r=c[0])}}}return r},load:function(e,t){var n=void 0===t?{}:t,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?"":o,s=n.encoding,a=void 0===s?"utf8":s;try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return t?Promise.resolve(Dt.readFile(e,{encoding:a})).then(function(e){return i?e.replace(/\r\n/g,"\n"):e}):c})}catch(e){return Promise.reject(e)}},loadSync:function(e,t){var n=void 0===t?{}:t,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?"":o,s=n.encoding,a=void 0===s?"utf8":s;if(!Dt.pathExistsSync(e))return c;var u=Dt.readFileSync(e,{encoding:a});return i?u.replace(/\r\n/g,"\n"):u},loadJson:function(e,t){var n=void 0===t?{}:t,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?{}:o,s=n.encoding,a=void 0===s?"utf8":s;try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return t?Promise.resolve(Wt.load(e,{stripReturnFeed:i,encoding:a})).then(function(e){try{return JSON.parse(e)}catch(e){null==console.log||console.log("NodeXPath - loadJson SyntaxError:",e)}return c}):c})}catch(e){return Promise.reject(e)}},loadJsonSync:function(e,t){var n=void 0===t?{}:t,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?{}:o,s=n.encoding,a=void 0===s?"utf8":s;if(!Dt.pathExistsSync(e))return c;var u=Wt.loadSync(e,{stripReturnFeed:i,encoding:a});try{return JSON.parse(u)}catch(e){null==console.log||console.log("NodeXPath - loadJson SyntaxError:",e)}return c},save:function(e,t,n){var r=(void 0===n?{}:n).encoding,i=void 0===r?"utf8":r;try{return Promise.resolve(Dt.ensureDir(y.default.dirname(e))).then(function(){return Promise.resolve(Dt.writeFile(e,t,{encoding:i})).then(function(){})})}catch(e){return Promise.reject(e)}},saveSync:function(e,t,n){var r=(void 0===n?{}:n).encoding,i=void 0===r?"utf8":r;Dt.ensureDirSync(y.default.dirname(e)),Dt.writeFileSync(e,t,{encoding:i})},delete:function(e){try{return Promise.resolve(Dt.pathExists(e)).then(function(t){var n=function(){if(t)return Promise.resolve(Dt.remove(e)).then(function(){})}();if(n&&n.then)return n.then(function(){})})}catch(e){return Promise.reject(e)}},deleteSync:function(e){Dt.pathExistsSync(e)&&Dt.removeSync(e)},exists:function(e){try{return Promise.resolve(Dt.pathExists(e))}catch(e){return Promise.reject(e)}},existsSync:function(e){return Dt.pathExistsSync(e)},ensureDir:function(e){try{return Promise.resolve(Dt.pathExists(e)).then(function(t){var n;function r(t){return n?t:(y.default.parse(e).ext&&(i=y.default.dirname(e)),Promise.resolve(Dt.ensureDir(i)).then(function(){}))}var i=e,o=function(){if(t)return Promise.resolve(Dt.stat(e)).then(function(t){return t.isFile()&&(i=y.default.dirname(e)),Promise.resolve(Dt.ensureDir(i)).then(function(){n=1})})}();return o&&o.then?o.then(r):r(o)})}catch(e){return Promise.reject(e)}},ensureDirSync:function(e){var t=e;if(Dt.pathExistsSync(e))return Dt.statSync(e).isFile()&&(t=y.default.dirname(e)),void Dt.ensureDirSync(t);y.default.parse(e).ext&&(t=y.default.dirname(e)),Dt.ensureDirSync(t)},isFile:function(e){try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return!!t&&Promise.resolve(Dt.stat(e)).then(function(e){return e.isFile()})})}catch(e){return Promise.reject(e)}},isFileSync:function(e){return!!Dt.pathExistsSync(e)&&Dt.statSync(e).isFile()},isDir:function(e){try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return!!t&&Promise.resolve(Dt.stat(e)).then(function(e){return e.isDirectory()})})}catch(e){return Promise.reject(e)}},isDirSync:function(e){return!!Dt.pathExistsSync(e)&&Dt.statSync(e).isDirectory()},children:function(e,t){var n=void 0===t?{}:t,r=n.encoding,i=n.recursive;try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return t?Promise.resolve(Dt.readdir(e,{withFileTypes:!0,recursive:i,encoding:r})):[]})}catch(e){return Promise.reject(e)}},childDirs:function(e,t){var n=void 0===t?{}:t,r=n.encoding,i=n.recursive;try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return t?Promise.resolve(Dt.readdir(e,{withFileTypes:!0,encoding:r,recursive:i})).then(function(e){return e.filter(function(e){return e.isDirectory()})}):[]})}catch(e){return Promise.reject(e)}},childFiles:function(e,t){var n=void 0===t?{}:t,r=n.encoding,i=n.recursive;try{return Promise.resolve(Dt.pathExists(e)).then(function(t){return t?Promise.resolve(Dt.readdir(e,{withFileTypes:!0,encoding:r,recursive:i})).then(function(e){return e.filter(function(e){return e.isFile()})}):[]})}catch(e){return Promise.reject(e)}},relativeTo:function(e,t){return y.default.relative(e,t)}};e.NodeXPath=Ct,e.constructGlobPattern=Mt,e.emptyLineRegex=Rt,e.fx=function(e){return Ct.fromPath(e)},e.indentRegex=Lt,e.processCwd=Jt,e.setIndent=function(e){_t=e},e.standardGlobIngorePattern=$t,e.x=Wt});
//# sourceMappingURL=NodeXPath.umd.js.map
