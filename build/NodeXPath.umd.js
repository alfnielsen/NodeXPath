!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("fs"),require("constants"),require("stream"),require("util"),require("assert"),require("path"),require("glob-promise")):"function"==typeof define&&define.amd?define(["exports","fs","constants","stream","util","assert","path","glob-promise"],e):e((t||self).nodeXPath={},t.fs,t.constants,t.require$$0$4,t.util,t.assert,t.path,t.globPromise)}(this,function(t,e,n,r,i,o,c,s){function a(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var u=/*#__PURE__*/a(e),f=/*#__PURE__*/a(n),l=/*#__PURE__*/a(r),d=/*#__PURE__*/a(i),h=/*#__PURE__*/a(o),y=/*#__PURE__*/a(c);function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function m(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)e.indexOf(n=o[r])>=0||(i[n]=t[n]);return i}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function S(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(n)return(n=n.call(t)).next.bind(n);if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var w="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function P(t){var e={exports:{}};return t(e,e.exports),e.exports}var E={fromCallback:function(t){return Object.defineProperty(function(...e){if("function"!=typeof e[e.length-1])return new Promise((n,r)=>{t.call(this,...e,(t,e)=>null!=t?r(t):n(e))});t.apply(this,e)},"name",{value:t.name})},fromPromise:function(t){return Object.defineProperty(function(...e){const n=e[e.length-1];if("function"!=typeof n)return t.apply(this,e);t.apply(this,e.slice(0,-1)).then(t=>n(null,t),n)},"name",{value:t.name})}},b=process.cwd,g=null,k=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return g||(g=b.call(process)),g};try{process.cwd()}catch(t){}if("function"==typeof process.chdir){var F=process.chdir;process.chdir=function(t){g=null,F.call(process,t)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,F)}var O=l.default.Stream,x=Object.getPrototypeOf||function(t){return t.__proto__},j=P(function(t){var e,n;function r(t,n){Object.defineProperty(t,e,{get:function(){return n}})}"function"==typeof Symbol&&"function"==typeof Symbol.for?(e=Symbol.for("graceful-fs.queue"),n=Symbol.for("graceful-fs.previous")):(e="___graceful-fs.queue",n="___graceful-fs.previous");var i,o=function(){};function c(t){(function(t){function e(e){return e?function(n,r,i){return e.call(t,n,r,function(t){s(t)&&(t=null),i&&i.apply(this,arguments)})}:e}function n(e){return e?function(n,r){try{return e.call(t,n,r)}catch(t){if(!s(t))throw t}}:e}function r(e){return e?function(n,r,i,o){return e.call(t,n,r,i,function(t){s(t)&&(t=null),o&&o.apply(this,arguments)})}:e}function i(e){return e?function(n,r,i){try{return e.call(t,n,r,i)}catch(t){if(!s(t))throw t}}:e}function o(e){return e?function(n,r,i){function o(t,e){e&&(e.uid<0&&(e.uid+=4294967296),e.gid<0&&(e.gid+=4294967296)),i&&i.apply(this,arguments)}return"function"==typeof r&&(i=r,r=null),r?e.call(t,n,r,o):e.call(t,n,o)}:e}function c(e){return e?function(n,r){var i=r?e.call(t,n,r):e.call(t,n);return i&&(i.uid<0&&(i.uid+=4294967296),i.gid<0&&(i.gid+=4294967296)),i}:e}function s(t){return!t||"ENOSYS"===t.code||!(process.getuid&&0===process.getuid()||"EINVAL"!==t.code&&"EPERM"!==t.code)}var a;f.default.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&function(t){t.lchmod=function(e,n,r){t.open(e,f.default.O_WRONLY|f.default.O_SYMLINK,n,function(e,i){e?r&&r(e):t.fchmod(i,n,function(e){t.close(i,function(t){r&&r(e||t)})})})},t.lchmodSync=function(e,n){var r,i=t.openSync(e,f.default.O_WRONLY|f.default.O_SYMLINK,n),o=!0;try{r=t.fchmodSync(i,n),o=!1}finally{if(o)try{t.closeSync(i)}catch(t){}else t.closeSync(i)}return r}}(t),t.lutimes||function(t){f.default.hasOwnProperty("O_SYMLINK")&&t.futimes?(t.lutimes=function(e,n,r,i){t.open(e,f.default.O_SYMLINK,function(e,o){e?i&&i(e):t.futimes(o,n,r,function(e){t.close(o,function(t){i&&i(e||t)})})})},t.lutimesSync=function(e,n,r){var i,o=t.openSync(e,f.default.O_SYMLINK),c=!0;try{i=t.futimesSync(o,n,r),c=!1}finally{if(c)try{t.closeSync(o)}catch(t){}else t.closeSync(o)}return i}):t.futimes&&(t.lutimes=function(t,e,n,r){r&&process.nextTick(r)},t.lutimesSync=function(){})}(t),t.chown=r(t.chown),t.fchown=r(t.fchown),t.lchown=r(t.lchown),t.chmod=e(t.chmod),t.fchmod=e(t.fchmod),t.lchmod=e(t.lchmod),t.chownSync=i(t.chownSync),t.fchownSync=i(t.fchownSync),t.lchownSync=i(t.lchownSync),t.chmodSync=n(t.chmodSync),t.fchmodSync=n(t.fchmodSync),t.lchmodSync=n(t.lchmodSync),t.stat=o(t.stat),t.fstat=o(t.fstat),t.lstat=o(t.lstat),t.statSync=c(t.statSync),t.fstatSync=c(t.fstatSync),t.lstatSync=c(t.lstatSync),t.chmod&&!t.lchmod&&(t.lchmod=function(t,e,n){n&&process.nextTick(n)},t.lchmodSync=function(){}),t.chown&&!t.lchown&&(t.lchown=function(t,e,n,r){r&&process.nextTick(r)},t.lchownSync=function(){}),"win32"===k&&(t.rename="function"!=typeof t.rename?t.rename:function(e){function n(n,r,i){var o=Date.now(),c=0;e(n,r,function s(a){if(a&&("EACCES"===a.code||"EPERM"===a.code||"EBUSY"===a.code)&&Date.now()-o<6e4)return setTimeout(function(){t.stat(r,function(t,o){t&&"ENOENT"===t.code?e(n,r,s):i(a)})},c),void(c<100&&(c+=10));i&&i(a)})}return Object.setPrototypeOf&&Object.setPrototypeOf(n,e),n}(t.rename)),t.read="function"!=typeof t.read?t.read:function(e){function n(n,r,i,o,c,s){var a;if(s&&"function"==typeof s){var u=0;a=function(f,l,d){if(f&&"EAGAIN"===f.code&&u<10)return u++,e.call(t,n,r,i,o,c,a);s.apply(this,arguments)}}return e.call(t,n,r,i,o,c,a)}return Object.setPrototypeOf&&Object.setPrototypeOf(n,e),n}(t.read),t.readSync="function"!=typeof t.readSync?t.readSync:(a=t.readSync,function(e,n,r,i,o){for(var c=0;;)try{return a.call(t,e,n,r,i,o)}catch(t){if("EAGAIN"===t.code&&c<10){c++;continue}throw t}})})(t),t.gracefulify=c,t.createReadStream=function(e,n){return new t.ReadStream(e,n)},t.createWriteStream=function(e,n){return new t.WriteStream(e,n)};var e=t.readFile;t.readFile=function(t,n,r){return"function"==typeof n&&(r=n,n=null),function t(n,r,i,o){return e(n,r,function(e){!e||"EMFILE"!==e.code&&"ENFILE"!==e.code?"function"==typeof i&&i.apply(this,arguments):s([t,[n,r,i],e,o||Date.now(),Date.now()])})}(t,n,r)};var n=t.writeFile;t.writeFile=function(t,e,r,i){return"function"==typeof r&&(i=r,r=null),function t(e,r,i,o,c){return n(e,r,i,function(n){!n||"EMFILE"!==n.code&&"ENFILE"!==n.code?"function"==typeof o&&o.apply(this,arguments):s([t,[e,r,i,o],n,c||Date.now(),Date.now()])})}(t,e,r,i)};var r=t.appendFile;r&&(t.appendFile=function(t,e,n,i){return"function"==typeof n&&(i=n,n=null),function t(e,n,i,o,c){return r(e,n,i,function(r){!r||"EMFILE"!==r.code&&"ENFILE"!==r.code?"function"==typeof o&&o.apply(this,arguments):s([t,[e,n,i,o],r,c||Date.now(),Date.now()])})}(t,e,n,i)});var i=t.copyFile;i&&(t.copyFile=function(t,e,n,r){return"function"==typeof n&&(r=n,n=0),function t(e,n,r,o,c){return i(e,n,r,function(i){!i||"EMFILE"!==i.code&&"ENFILE"!==i.code?"function"==typeof o&&o.apply(this,arguments):s([t,[e,n,r,o],i,c||Date.now(),Date.now()])})}(t,e,n,r)});var o=t.readdir;t.readdir=function(t,e,n){"function"==typeof e&&(n=e,e=null);var r=a.test(process.version)?function(t,e,n,r){return o(t,i(t,e,n,r))}:function(t,e,n,r){return o(t,e,i(t,e,n,r))};return r(t,e,n);function i(t,e,n,i){return function(o,c){!o||"EMFILE"!==o.code&&"ENFILE"!==o.code?(c&&c.sort&&c.sort(),"function"==typeof n&&n.call(this,o,c)):s([r,[t,e,n],o,i||Date.now(),Date.now()])}}};var a=/^v[0-5]\./;if("v0.8"===process.version.substr(0,4)){var u=function(t){return{ReadStream:function e(n,r){if(!(this instanceof e))return new e(n,r);O.call(this);var i=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=65536,r=r||{};for(var o=Object.keys(r),c=0,s=o.length;c<s;c++){var a=o[c];this[a]=r[a]}if(this.encoding&&this.setEncoding(this.encoding),void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(void 0===this.end)this.end=Infinity;else if("number"!=typeof this.end)throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}null===this.fd?t.open(this.path,this.flags,this.mode,function(t,e){if(t)return i.emit("error",t),void(i.readable=!1);i.fd=e,i.emit("open",e),i._read()}):process.nextTick(function(){i._read()})},WriteStream:function e(n,r){if(!(this instanceof e))return new e(n,r);O.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,r=r||{};for(var i=Object.keys(r),o=0,c=i.length;o<c;o++){var s=i[o];this[s]=r[s]}if(void 0!==this.start){if("number"!=typeof this.start)throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],null===this.fd&&(this._open=t.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}}(t);p=u.ReadStream,m=u.WriteStream}var l=t.ReadStream;l&&(p.prototype=Object.create(l.prototype),p.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,function(e,n){e?(t.autoClose&&t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n),t.read())})});var d=t.WriteStream;d&&(m.prototype=Object.create(d.prototype),m.prototype.open=function(){var t=this;S(t.path,t.flags,t.mode,function(e,n){e?(t.destroy(),t.emit("error",e)):(t.fd=n,t.emit("open",n))})}),Object.defineProperty(t,"ReadStream",{get:function(){return p},set:function(t){p=t},enumerable:!0,configurable:!0}),Object.defineProperty(t,"WriteStream",{get:function(){return m},set:function(t){m=t},enumerable:!0,configurable:!0});var h=p;Object.defineProperty(t,"FileReadStream",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0});var y=m;function p(t,e){return this instanceof p?(l.apply(this,arguments),this):p.apply(Object.create(p.prototype),arguments)}function m(t,e){return this instanceof m?(d.apply(this,arguments),this):m.apply(Object.create(m.prototype),arguments)}Object.defineProperty(t,"FileWriteStream",{get:function(){return y},set:function(t){y=t},enumerable:!0,configurable:!0});var v=t.open;function S(t,e,n,r){return"function"==typeof n&&(r=n,n=null),function t(e,n,r,i,o){return v(e,n,r,function(c,a){!c||"EMFILE"!==c.code&&"ENFILE"!==c.code?"function"==typeof i&&i.apply(this,arguments):s([t,[e,n,r,i],c,o||Date.now(),Date.now()])})}(t,e,n,r)}return t.open=S,t}function s(t){o("ENQUEUE",t[0].name,t[1]),u.default[e].push(t),l()}function a(){for(var t=Date.now(),n=0;n<u.default[e].length;++n)u.default[e][n].length>2&&(u.default[e][n][3]=t,u.default[e][n][4]=t);l()}function l(){if(clearTimeout(i),i=void 0,0!==u.default[e].length){var t=u.default[e].shift(),n=t[0],r=t[1],c=t[2],s=t[3],a=t[4];if(void 0===s)o("RETRY",n.name,r),n.apply(null,r);else if(Date.now()-s>=6e4){o("TIMEOUT",n.name,r);var f=r.pop();"function"==typeof f&&f.call(null,c)}else{var d=Date.now()-a,h=Math.max(a-s,1);d>=Math.min(1.2*h,100)?(o("RETRY",n.name,r),n.apply(null,r.concat([s]))):u.default[e].push(t)}void 0===i&&(i=setTimeout(l,0))}}d.default.debuglog?o=d.default.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(o=function(){var t=d.default.format.apply(d.default,arguments);t="GFS4: "+t.split(/\n/).join("\nGFS4: "),console.error(t)}),u.default[e]||(r(u.default,w[e]||[]),u.default.close=function(t){function e(e,n){return t.call(u.default,e,function(t){t||a(),"function"==typeof n&&n.apply(this,arguments)})}return Object.defineProperty(e,n,{value:t}),e}(u.default.close),u.default.closeSync=function(t){function e(e){t.apply(u.default,arguments),a()}return Object.defineProperty(e,n,{value:t}),e}(u.default.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){o(u.default[e]),h.default.equal(u.default[e].length,0)})),w[e]||r(w,u.default[e]),t.exports=c(function(t){if(null===t||"object"!=typeof t)return t;if(t instanceof Object)var e={__proto__:x(t)};else e=Object.create(null);return Object.getOwnPropertyNames(t).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}),e}(u.default)),process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!u.default.__patched&&(t.exports=c(u.default),u.default.__patched=!0)}),N=E,D=j,T=P(function(t,e){const n=N.fromCallback,r=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(t=>"function"==typeof D[t]);Object.assign(e,D),r.forEach(t=>{e[t]=n(D[t])}),e.exists=function(t,e){return"function"==typeof e?D.exists(t,e):new Promise(e=>D.exists(t,e))},e.read=function(t,e,n,r,i,o){return"function"==typeof o?D.read(t,e,n,r,i,o):new Promise((o,c)=>{D.read(t,e,n,r,i,(t,e,n)=>{if(t)return c(t);o({bytesRead:e,buffer:n})})})},e.write=function(t,e,...n){return"function"==typeof n[n.length-1]?D.write(t,e,...n):new Promise((r,i)=>{D.write(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffer:n})})})},"function"==typeof D.writev&&(e.writev=function(t,e,...n){return"function"==typeof n[n.length-1]?D.writev(t,e,...n):new Promise((r,i)=>{D.writev(t,e,...n,(t,e,n)=>{if(t)return i(t);r({bytesWritten:e,buffers:n})})})}),"function"==typeof D.realpath.native?e.realpath.native=n(D.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")}),C=T,I={checkPath:function(t){if("win32"===process.platform&&/[<>:"|?*]/.test(t.replace(y.default.parse(t).root,""))){const e=new Error(`Path contains invalid characters: ${t}`);throw e.code="EINVAL",e}}};const{checkPath:L}=I,R=t=>"number"==typeof t?t:{mode:511,...t}.mode;var J={makeDir:async(t,e)=>(L(t),C.mkdir(t,{mode:R(e),recursive:!0})),makeDirSync:(t,e)=>(L(t),C.mkdirSync(t,{mode:R(e),recursive:!0}))};const _=N.fromPromise,{makeDir:$,makeDirSync:M}=J,W=_($);var A={mkdirs:W,mkdirsSync:M,mkdirp:W,mkdirpSync:M,ensureDir:W,ensureDirSync:M},q={pathExists:(0,N.fromPromise)(function(t){return C.access(t).then(()=>!0).catch(()=>!1)}),pathExistsSync:C.existsSync};function U(t,e,n){const r=n.dereference?t=>C.stat(t,{bigint:!0}):t=>C.lstat(t,{bigint:!0});return Promise.all([r(t),r(e).catch(t=>{if("ENOENT"===t.code)return null;throw t})]).then(([t,e])=>({srcStat:t,destStat:e}))}function Y(t,e){return e.ino&&e.dev&&e.ino===t.ino&&e.dev===t.dev}function B(t,e){const n=y.default.resolve(t).split(y.default.sep).filter(t=>t),r=y.default.resolve(e).split(y.default.sep).filter(t=>t);return n.reduce((t,e,n)=>t&&r[n]===e,!0)}function G(t,e,n){return`Cannot ${n} '${t}' to a subdirectory of itself, '${e}'.`}var X={checkPaths:function(t,e,n,r,i){d.default.callbackify(U)(t,e,r,(r,o)=>{if(r)return i(r);const{srcStat:c,destStat:s}=o;if(s){if(Y(c,s)){const r=y.default.basename(t),o=y.default.basename(e);return"move"===n&&r!==o&&r.toLowerCase()===o.toLowerCase()?i(null,{srcStat:c,destStat:s,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(c.isDirectory()&&!s.isDirectory())return i(new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`));if(!c.isDirectory()&&s.isDirectory())return i(new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`))}return c.isDirectory()&&B(t,e)?i(new Error(G(t,e,n))):i(null,{srcStat:c,destStat:s})})},checkPathsSync:function(t,e,n,r){const{srcStat:i,destStat:o}=function(t,e,n){let r;const i=n.dereference?t=>C.statSync(t,{bigint:!0}):t=>C.lstatSync(t,{bigint:!0}),o=i(t);try{r=i(e)}catch(t){if("ENOENT"===t.code)return{srcStat:o,destStat:null};throw t}return{srcStat:o,destStat:r}}(t,e,r);if(o){if(Y(i,o)){const r=y.default.basename(t),c=y.default.basename(e);if("move"===n&&r!==c&&r.toLowerCase()===c.toLowerCase())return{srcStat:i,destStat:o,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!o.isDirectory())throw new Error(`Cannot overwrite non-directory '${e}' with directory '${t}'.`);if(!i.isDirectory()&&o.isDirectory())throw new Error(`Cannot overwrite directory '${e}' with non-directory '${t}'.`)}if(i.isDirectory()&&B(t,e))throw new Error(G(t,e,n));return{srcStat:i,destStat:o}},checkParentPaths:function t(e,n,r,i,o){const c=y.default.resolve(y.default.dirname(e)),s=y.default.resolve(y.default.dirname(r));if(s===c||s===y.default.parse(s).root)return o();C.stat(s,{bigint:!0},(c,a)=>c?"ENOENT"===c.code?o():o(c):Y(n,a)?o(new Error(G(e,r,i))):t(e,n,s,i,o))},checkParentPathsSync:function t(e,n,r,i){const o=y.default.resolve(y.default.dirname(e)),c=y.default.resolve(y.default.dirname(r));if(c===o||c===y.default.parse(c).root)return;let s;try{s=C.statSync(c,{bigint:!0})}catch(t){if("ENOENT"===t.code)return;throw t}if(Y(n,s))throw new Error(G(e,r,i));return t(e,n,c,i)},isSrcSubdir:B,areIdentical:Y},K=A,V=q,z=X;const H=K.mkdirs,Q=V.pathExists,Z=function(t,e,n,r){D.open(t,"r+",(t,i)=>{if(t)return r(t);D.futimes(i,e,n,t=>{D.close(i,e=>{r&&r(t||e)})})})};function tt(t,e,n,r,i){const o=y.default.dirname(n);Q(o,(c,s)=>c?i(c):s?nt(t,e,n,r,i):void H(o,o=>o?i(o):nt(t,e,n,r,i)))}function et(t,e,n,r,i,o){Promise.resolve(i.filter(n,r)).then(c=>c?t(e,n,r,i,o):o(),t=>o(t))}function nt(t,e,n,r,i){(r.dereference?D.stat:D.lstat)(e,(o,c)=>o?i(o):c.isDirectory()?function(t,e,n,r,i,o){return e?ct(n,r,i,o):function(t,e,n,r,i){D.mkdir(n,o=>{if(o)return i(o);ct(e,n,r,e=>e?i(e):ot(n,t,i))})}(t.mode,n,r,i,o)}(c,t,e,n,r,i):c.isFile()||c.isCharacterDevice()||c.isBlockDevice()?function(t,e,n,r,i,o){return e?function(t,e,n,r,i){if(!r.overwrite)return r.errorOnExist?i(new Error(`'${n}' already exists`)):i();D.unlink(n,o=>o?i(o):rt(t,e,n,r,i))}(t,n,r,i,o):rt(t,n,r,i,o)}(c,t,e,n,r,i):c.isSymbolicLink()?function(t,e,n,r,i){D.readlink(e,(e,o)=>e?i(e):(r.dereference&&(o=y.default.resolve(process.cwd(),o)),t?void D.readlink(n,(e,c)=>e?"EINVAL"===e.code||"UNKNOWN"===e.code?D.symlink(o,n,i):i(e):(r.dereference&&(c=y.default.resolve(process.cwd(),c)),z.isSrcSubdir(o,c)?i(new Error(`Cannot copy '${o}' to a subdirectory of itself, '${c}'.`)):t.isDirectory()&&z.isSrcSubdir(c,o)?i(new Error(`Cannot overwrite '${c}' with '${o}'.`)):function(t,e,n){D.unlink(e,r=>r?n(r):D.symlink(t,e,n))}(o,n,i))):D.symlink(o,n,i)))}(t,e,n,r,i):c.isSocket()?i(new Error(`Cannot copy a socket file: ${e}`)):c.isFIFO()?i(new Error(`Cannot copy a FIFO pipe: ${e}`)):i(new Error(`Unknown file: ${e}`)))}function rt(t,e,n,r,i){D.copyFile(e,n,o=>o?i(o):r.preserveTimestamps?function(t,e,n,r){return function(t){return 0==(128&t)}(t)?function(t,e,n){return ot(t,128|e,n)}(n,t,i=>i?r(i):it(t,e,n,r)):it(t,e,n,r)}(t.mode,e,n,i):ot(n,t.mode,i))}function it(t,e,n,r){!function(t,e,n){D.stat(t,(t,r)=>t?n(t):Z(e,r.atime,r.mtime,n))}(e,n,e=>e?r(e):ot(n,t,r))}function ot(t,e,n){return D.chmod(t,e,n)}function ct(t,e,n,r){D.readdir(t,(i,o)=>i?r(i):st(o,t,e,n,r))}function st(t,e,n,r,i){const o=t.pop();return o?function(t,e,n,r,i,o){const c=y.default.join(n,e),s=y.default.join(r,e);z.checkPaths(c,s,"copy",i,(e,a)=>{if(e)return o(e);const{destStat:u}=a;!function(t,e,n,r,i){r.filter?et(nt,t,e,n,r,i):nt(t,e,n,r,i)}(u,c,s,i,e=>e?o(e):st(t,n,r,i,o))})}(t,o,e,n,r,i):i()}const at=K.mkdirsSync,ut=function(t,e,n){const r=D.openSync(t,"r+");return D.futimesSync(r,e,n),D.closeSync(r)};function ft(t,e,n,r){const i=(r.dereference?D.statSync:D.lstatSync)(e);if(i.isDirectory())return function(t,e,n,r,i){return e?ht(n,r,i):function(t,e,n,r){return D.mkdirSync(n),ht(e,n,r),dt(n,t)}(t.mode,n,r,i)}(i,t,e,n,r);if(i.isFile()||i.isCharacterDevice()||i.isBlockDevice())return function(t,e,n,r,i){return e?function(t,e,n,r){if(r.overwrite)return D.unlinkSync(n),lt(t,e,n,r);if(r.errorOnExist)throw new Error(`'${n}' already exists`)}(t,n,r,i):lt(t,n,r,i)}(i,t,e,n,r);if(i.isSymbolicLink())return function(t,e,n,r){let i=D.readlinkSync(e);if(r.dereference&&(i=y.default.resolve(process.cwd(),i)),t){let t;try{t=D.readlinkSync(n)}catch(t){if("EINVAL"===t.code||"UNKNOWN"===t.code)return D.symlinkSync(i,n);throw t}if(r.dereference&&(t=y.default.resolve(process.cwd(),t)),z.isSrcSubdir(i,t))throw new Error(`Cannot copy '${i}' to a subdirectory of itself, '${t}'.`);if(D.statSync(n).isDirectory()&&z.isSrcSubdir(t,i))throw new Error(`Cannot overwrite '${t}' with '${i}'.`);return function(t,e){return D.unlinkSync(e),D.symlinkSync(t,e)}(i,n)}return D.symlinkSync(i,n)}(t,e,n,r);if(i.isSocket())throw new Error(`Cannot copy a socket file: ${e}`);if(i.isFIFO())throw new Error(`Cannot copy a FIFO pipe: ${e}`);throw new Error(`Unknown file: ${e}`)}function lt(t,e,n,r){return D.copyFileSync(e,n),r.preserveTimestamps&&function(t,e,n){(function(t){return 0==(128&t)})(t)&&function(t,e){dt(t,128|e)}(n,t),function(t,e){const n=D.statSync(t);ut(e,n.atime,n.mtime)}(e,n)}(t.mode,e,n),dt(n,t.mode)}function dt(t,e){return D.chmodSync(t,e)}function ht(t,e,n){D.readdirSync(t).forEach(r=>function(t,e,n,r){const i=y.default.join(e,t),o=y.default.join(n,t),{destStat:c}=z.checkPathsSync(i,o,"copy",r);return function(t,e,n,r){if(!r.filter||r.filter(e,n))return ft(t,e,n,r)}(c,i,o,r)}(r,t,e,n))}var yt={copy:(0,N.fromCallback)(function(t,e,n,r){"function"!=typeof n||r?"function"==typeof n&&(n={filter:n}):(r=n,n={}),r=r||function(){},(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),z.checkPaths(t,e,"copy",n,(i,o)=>{if(i)return r(i);const{srcStat:c,destStat:s}=o;z.checkParentPaths(t,c,e,"copy",i=>i?r(i):n.filter?et(tt,s,t,e,n,r):tt(s,t,e,n,r))})}),copySync:function(t,e,n){"function"==typeof n&&(n={filter:n}),(n=n||{}).clobber=!("clobber"in n)||!!n.clobber,n.overwrite="overwrite"in n?!!n.overwrite:n.clobber,n.preserveTimestamps&&"ia32"===process.arch&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n\tsee https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");const{srcStat:r,destStat:i}=z.checkPathsSync(t,e,"copy",n);return z.checkParentPathsSync(t,r,e,"copy"),function(t,e,n,r){if(r.filter&&!r.filter(e,n))return;const i=y.default.dirname(n);return D.existsSync(i)||at(i),ft(t,e,n,r)}(i,t,e,n)}};const pt="win32"===process.platform;function mt(t){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(e=>{t[e]=t[e]||D[e],t[e+="Sync"]=t[e]||D[e]}),t.maxBusyTries=t.maxBusyTries||3}function vt(t,e,n){let r=0;"function"==typeof e&&(n=e,e={}),h.default(t,"rimraf: missing path"),h.default.strictEqual(typeof t,"string","rimraf: path should be a string"),h.default.strictEqual(typeof n,"function","rimraf: callback function required"),h.default(e,"rimraf: invalid options argument provided"),h.default.strictEqual(typeof e,"object","rimraf: options should be object"),mt(e),St(t,e,function i(o){if(o){if(("EBUSY"===o.code||"ENOTEMPTY"===o.code||"EPERM"===o.code)&&r<e.maxBusyTries)return r++,setTimeout(()=>St(t,e,i),100*r);"ENOENT"===o.code&&(o=null)}n(o)})}function St(t,e,n){h.default(t),h.default(e),h.default("function"==typeof n),e.lstat(t,(r,i)=>r&&"ENOENT"===r.code?n(null):r&&"EPERM"===r.code&&pt?wt(t,e,r,n):i&&i.isDirectory()?Et(t,e,r,n):void e.unlink(t,r=>{if(r){if("ENOENT"===r.code)return n(null);if("EPERM"===r.code)return pt?wt(t,e,r,n):Et(t,e,r,n);if("EISDIR"===r.code)return Et(t,e,r,n)}return n(r)}))}function wt(t,e,n,r){h.default(t),h.default(e),h.default("function"==typeof r),e.chmod(t,438,i=>{i?r("ENOENT"===i.code?null:n):e.stat(t,(i,o)=>{i?r("ENOENT"===i.code?null:n):o.isDirectory()?Et(t,e,n,r):e.unlink(t,r)})})}function Pt(t,e,n){let r;h.default(t),h.default(e);try{e.chmodSync(t,438)}catch(t){if("ENOENT"===t.code)return;throw n}try{r=e.statSync(t)}catch(t){if("ENOENT"===t.code)return;throw n}r.isDirectory()?gt(t,e,n):e.unlinkSync(t)}function Et(t,e,n,r){h.default(t),h.default(e),h.default("function"==typeof r),e.rmdir(t,i=>{!i||"ENOTEMPTY"!==i.code&&"EEXIST"!==i.code&&"EPERM"!==i.code?r(i&&"ENOTDIR"===i.code?n:i):function(t,e,n){h.default(t),h.default(e),h.default("function"==typeof n),e.readdir(t,(r,i)=>{if(r)return n(r);let o,c=i.length;if(0===c)return e.rmdir(t,n);i.forEach(r=>{vt(y.default.join(t,r),e,r=>{if(!o)return r?n(o=r):void(0==--c&&e.rmdir(t,n))})})})}(t,e,r)})}function bt(t,e){let n;mt(e=e||{}),h.default(t,"rimraf: missing path"),h.default.strictEqual(typeof t,"string","rimraf: path should be a string"),h.default(e,"rimraf: missing options"),h.default.strictEqual(typeof e,"object","rimraf: options should be object");try{n=e.lstatSync(t)}catch(n){if("ENOENT"===n.code)return;"EPERM"===n.code&&pt&&Pt(t,e,n)}try{n&&n.isDirectory()?gt(t,e,null):e.unlinkSync(t)}catch(n){if("ENOENT"===n.code)return;if("EPERM"===n.code)return pt?Pt(t,e,n):gt(t,e,n);if("EISDIR"!==n.code)throw n;gt(t,e,n)}}function gt(t,e,n){h.default(t),h.default(e);try{e.rmdirSync(t)}catch(r){if("ENOTDIR"===r.code)throw n;if("ENOTEMPTY"===r.code||"EEXIST"===r.code||"EPERM"===r.code)!function(t,e){if(h.default(t),h.default(e),e.readdirSync(t).forEach(n=>bt(y.default.join(t,n),e)),!pt)return e.rmdirSync(t,e);{const n=Date.now();do{try{return e.rmdirSync(t,e)}catch{}}while(Date.now()-n<500)}}(t,e);else if("ENOENT"!==r.code)throw r}}var kt=vt;vt.sync=bt;var Ft=kt,Ot={remove:(0,N.fromCallback)(function(t,e){if(D.rm)return D.rm(t,{recursive:!0,force:!0},e);Ft(t,e)}),removeSync:function(t){if(D.rmSync)return D.rmSync(t,{recursive:!0,force:!0});Ft.sync(t)}},xt=Ot;const jt=(0,N.fromPromise)(async function(t){let e;try{e=await C.readdir(t)}catch{return K.mkdirs(t)}return Promise.all(e.map(e=>xt.remove(y.default.join(t,e))))});function Nt(t){let e;try{e=C.readdirSync(t)}catch{return K.mkdirsSync(t)}e.forEach(e=>{e=y.default.join(t,e),xt.removeSync(e)})}var Dt={emptyDirSync:Nt,emptydirSync:Nt,emptyDir:jt,emptydir:jt},Tt={createFile:(0,N.fromCallback)(function(t,e){function n(){D.writeFile(t,"",t=>{if(t)return e(t);e()})}D.stat(t,(r,i)=>{if(!r&&i.isFile())return e();const o=y.default.dirname(t);D.stat(o,(t,r)=>{if(t)return"ENOENT"===t.code?K.mkdirs(o,t=>{if(t)return e(t);n()}):e(t);r.isDirectory()?n():D.readdir(o,t=>{if(t)return e(t)})})})}),createFileSync:function(t){let e;try{e=D.statSync(t)}catch{}if(e&&e.isFile())return;const n=y.default.dirname(t);try{D.statSync(n).isDirectory()||D.readdirSync(n)}catch(t){if(!t||"ENOENT"!==t.code)throw t;K.mkdirsSync(n)}D.writeFileSync(t,"")}};const Ct=N.fromCallback,It=V.pathExists,{areIdentical:Lt}=z;var Rt={createLink:Ct(function(t,e,n){function r(t,e){D.link(t,e,t=>{if(t)return n(t);n(null)})}D.lstat(e,(i,o)=>{D.lstat(t,(i,c)=>{if(i)return i.message=i.message.replace("lstat","ensureLink"),n(i);if(o&&Lt(c,o))return n(null);const s=y.default.dirname(e);It(s,(i,o)=>i?n(i):o?r(t,e):void K.mkdirs(s,i=>{if(i)return n(i);r(t,e)}))})})}),createLinkSync:function(t,e){let n;try{n=D.lstatSync(e)}catch{}try{const e=D.lstatSync(t);if(n&&Lt(e,n))return}catch(t){throw t.message=t.message.replace("lstat","ensureLink"),t}const r=y.default.dirname(e);return D.existsSync(r)||K.mkdirsSync(r),D.linkSync(t,e)}};const Jt=V.pathExists,_t=N.fromCallback,$t=K.mkdirs,Mt=K.mkdirsSync,Wt=V.pathExists,{areIdentical:At}=z;function qt(t,e,n,r){!function(t,e,n){if(y.default.isAbsolute(t))return D.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:t}));{const r=y.default.dirname(e),i=y.default.join(r,t);Jt(i,(e,o)=>e?n(e):o?n(null,{toCwd:i,toDst:t}):D.lstat(t,e=>e?(e.message=e.message.replace("lstat","ensureSymlink"),n(e)):n(null,{toCwd:t,toDst:y.default.relative(r,t)})))}}(t,e,(i,o)=>{if(i)return r(i);t=o.toDst,function(t,e,n){if(n="function"==typeof e?e:n,e="function"!=typeof e&&e)return n(null,e);D.lstat(t,(t,r)=>{if(t)return n(null,"file");e=r&&r.isDirectory()?"dir":"file",n(null,e)})}(o.toCwd,n,(n,i)=>{if(n)return r(n);const o=y.default.dirname(e);Wt(o,(n,c)=>n?r(n):c?C.symlink(t,e,i,r):void $t(o,n=>{if(n)return r(n);C.symlink(t,e,i,r)}))})})}var Ut=Tt,Yt=Rt,Bt={createSymlink:_t(function(t,e,n,r){r="function"==typeof n?n:r,n="function"!=typeof n&&n,C.lstat(e,(i,o)=>{!i&&o.isSymbolicLink()?Promise.all([C.stat(t),C.stat(e)]).then(([i,o])=>{if(At(i,o))return r(null);qt(t,e,n,r)}):qt(t,e,n,r)})}),createSymlinkSync:function(t,e,n){let r;try{r=C.lstatSync(e)}catch{}if(r&&r.isSymbolicLink()){const n=C.statSync(t),r=C.statSync(e);if(At(n,r))return}const i=function(t,e){let n;if(y.default.isAbsolute(t)){if(n=D.existsSync(t),!n)throw new Error("absolute srcpath does not exist");return{toCwd:t,toDst:t}}{const r=y.default.dirname(e),i=y.default.join(r,t);if(n=D.existsSync(i),n)return{toCwd:i,toDst:t};if(n=D.existsSync(t),!n)throw new Error("relative srcpath does not exist");return{toCwd:t,toDst:y.default.relative(r,t)}}}(t,e);t=i.toDst,n=function(t,e){let n;if(e)return e;try{n=D.lstatSync(t)}catch{return"file"}return n&&n.isDirectory()?"dir":"file"}(i.toCwd,n);const o=y.default.dirname(e);return C.existsSync(o)||Mt(o),C.symlinkSync(t,e,n)}};const{createFile:Gt,createFileSync:Xt}=Ut,{createLink:Kt,createLinkSync:Vt}=Yt,{createSymlink:zt,createSymlinkSync:Ht}=Bt;var Qt={createFile:Gt,createFileSync:Xt,ensureFile:Gt,ensureFileSync:Xt,createLink:Kt,createLinkSync:Vt,ensureLink:Kt,ensureLinkSync:Vt,createSymlink:zt,createSymlinkSync:Ht,ensureSymlink:zt,ensureSymlinkSync:Ht},Zt={stringify:function(t,{EOL:e="\n",finalEOL:n=!0,replacer:r=null,spaces:i}={}){const o=n?e:"";return JSON.stringify(t,r,i).replace(/\n/g,e)+o},stripBom:function(t){return Buffer.isBuffer(t)&&(t=t.toString("utf8")),t.replace(/^\uFEFF/,"")}};let te;try{te=D}catch(t){te=u.default}const{stringify:ee,stripBom:ne}=Zt,re=N.fromPromise(async function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||te,r=!("throws"in e)||e.throws;let i,o=await N.fromCallback(n.readFile)(t,e);o=ne(o);try{i=JSON.parse(o,e?e.reviver:null)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}return i}),ie=N.fromPromise(async function(t,e,n={}){const r=n.fs||te,i=ee(e,n);await N.fromCallback(r.writeFile)(t,i,n)}),oe={readFile:re,readFileSync:function(t,e={}){"string"==typeof e&&(e={encoding:e});const n=e.fs||te,r=!("throws"in e)||e.throws;try{let r=n.readFileSync(t,e);return r=ne(r),JSON.parse(r,e.reviver)}catch(e){if(r)throw e.message=`${t}: ${e.message}`,e;return null}},writeFile:ie,writeFileSync:function(t,e,n={}){const r=n.fs||te,i=ee(e,n);return r.writeFileSync(t,i,n)}};var ce={readJson:oe.readFile,readJsonSync:oe.readFileSync,writeJson:oe.writeFile,writeJsonSync:oe.writeFileSync};const se=V.pathExists;var ae={outputFile:(0,N.fromCallback)(function(t,e,n,r){"function"==typeof n&&(r=n,n="utf8");const i=y.default.dirname(t);se(i,(o,c)=>o?r(o):c?D.writeFile(t,e,n,r):void K.mkdirs(i,i=>{if(i)return r(i);D.writeFile(t,e,n,r)}))}),outputFileSync:function(t,...e){const n=y.default.dirname(t);if(D.existsSync(n))return D.writeFileSync(t,...e);K.mkdirsSync(n),D.writeFileSync(t,...e)}},ue=ae;const{stringify:fe}=Zt,{outputFile:le}=ue,{stringify:de}=Zt,{outputFileSync:he}=ue;var ye=ce;ye.outputJson=(0,N.fromPromise)(async function(t,e,n={}){const r=fe(e,n);await le(t,r,n)}),ye.outputJsonSync=function(t,e,n){const r=de(e,n);he(t,r,n)},ye.outputJSON=ye.outputJson,ye.outputJSONSync=ye.outputJsonSync,ye.writeJSON=ye.writeJson,ye.writeJSONSync=ye.writeJsonSync,ye.readJSON=ye.readJson,ye.readJSONSync=ye.readJsonSync;var pe=yt;const me=pe.copy,ve=xt.remove,Se=K.mkdirp,we=V.pathExists;function Pe(t,e,n,r,i){return r?Ee(t,e,n,i):n?ve(e,r=>r?i(r):Ee(t,e,n,i)):void we(e,(r,o)=>r?i(r):o?i(new Error("dest already exists.")):Ee(t,e,n,i))}function Ee(t,e,n,r){D.rename(t,e,i=>i?"EXDEV"!==i.code?r(i):function(t,e,n,r){me(t,e,{overwrite:n,errorOnExist:!0},e=>e?r(e):ve(t,r))}(t,e,n,r):r())}const be=pe.copySync,ge=xt.removeSync,ke=K.mkdirpSync;function Fe(t,e,n){try{D.renameSync(t,e)}catch(r){if("EXDEV"!==r.code)throw r;return function(t,e,n){return be(t,e,{overwrite:n,errorOnExist:!0}),ge(t)}(t,e,n)}}var Oe=Dt,xe=Qt,je=ye,Ne={move:(0,N.fromCallback)(function(t,e,n,r){"function"==typeof n&&(r=n,n={});const i=(n=n||{}).overwrite||n.clobber||!1;z.checkPaths(t,e,"move",n,(n,o)=>{if(n)return r(n);const{srcStat:c,isChangingCase:s=!1}=o;z.checkParentPaths(t,c,e,"move",n=>n?r(n):function(t){const e=y.default.dirname(t);return y.default.parse(e).root===e}(e)?Pe(t,e,i,s,r):void Se(y.default.dirname(e),n=>n?r(n):Pe(t,e,i,s,r)))})}),moveSync:function(t,e,n){const r=(n=n||{}).overwrite||n.clobber||!1,{srcStat:i,isChangingCase:o=!1}=z.checkPathsSync(t,e,"move",n);return z.checkParentPathsSync(t,i,e,"move"),function(t){const e=y.default.dirname(t);return y.default.parse(e).root===e}(e)||ke(y.default.dirname(e)),function(t,e,n,r){if(r)return Fe(t,e,n);if(n)return ge(e),Fe(t,e,n);if(D.existsSync(e))throw new Error("dest already exists.");return Fe(t,e,n)}(t,e,r,o)}},De={...C,...pe,...Oe,...xe,...je,...K,...Ne,...ue,...V,...xt},Te="undefined"!=typeof Symbol?Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator")):"@@iterator";function Ce(t,e,n){if(!t.s){if(n instanceof Ie){if(!n.s)return void(n.o=Ce.bind(null,t,e));1&e&&(e=n.s),n=n.v}if(n&&n.then)return void n.then(Ce.bind(null,t,e),Ce.bind(null,t,2));t.s=e,t.v=n;var r=t.o;r&&r(t)}}var Ie=/*#__PURE__*/function(){function t(){}return t.prototype.then=function(e,n){var r=new t,i=this.s;if(i){var o=1&i?e:n;if(o){try{Ce(r,1,o(this.v))}catch(t){Ce(r,2,t)}return r}return this}return this.o=function(t){try{var i=t.v;1&t.s?Ce(r,1,e?e(i):i):n?Ce(r,1,n(i)):Ce(r,2,i)}catch(t){Ce(r,2,t)}},r},t}();function Le(t){return t instanceof Ie&&1&t.s}var Re=["addIgnore","ignore","cwd","nocase","dot","fullPaths"],Je=["match","pathMatch"],_e=/*#__PURE__*/function(){function t(){this.fullPath="",this.exists=!1,this.stat=void 0,this.type="file",this.loaded=!1,this.content="",this.json=void 0,this.basename="",this.ext="",this.dir="",this.parentDir="",this.sep=y.default.sep}t.fromPath=function(e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);try{var i=new t;return Promise.resolve(i.setPath(e,n,r)).then(function(){return i})}catch(t){return Promise.reject(t)}},t.fromPathWithContent=function(e,n,r){void 0===r&&(r=!1);try{var i=new t;return Promise.resolve(i.setPath(e,!1,!1)).then(function(){return Promise.resolve(i.setContent(n,r)).then(function(){return i})})}catch(t){return Promise.reject(t)}},t.fromRelPath=function(e,n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1);try{var o=new t;return Promise.resolve(o.setRelPath(e,n,r,i)).then(function(){return o})}catch(t){return Promise.reject(t)}},t.fromRelPathWithContent=function(e,n,r,i){void 0===i&&(i=!1);try{var o=new t;return Promise.resolve(o.setRelPath(e,n,!1,!1)).then(function(){return Promise.resolve(o.setContent(r,i)).then(function(){return o})})}catch(t){return Promise.reject(t)}};var e=t.prototype;return e.setPath=function(t,e,n){void 0===e&&(e=!1),void 0===n&&(n=!1);try{var r=this;return r.fullPath=t,Promise.resolve(De.pathExists(t)).then(function(i){return r.exists=i,Promise.resolve(De.stat(t)).then(function(t){r.stat=t,r.type=r.stat.isFile()?"file":"dir",r.basename=y.default.basename(r.fullPath),r.ext=y.default.extname(r.fullPath),r.dir="dir"===r.type?r.fullPath:y.default.dirname(r.fullPath),r.parentDir=y.default.dirname(r.dir);var i=function(){if("file"===r.type&&e)return Promise.resolve(De.readFile(r.fullPath,{encoding:"utf8"})).then(function(t){r.content=t,r.loaded=!0,n&&r.parseJsonContent()})}();return i&&i.then?i.then(function(){return r}):r})})}catch(t){return Promise.reject(t)}},e.setRelPath=function(t,e,n,r){void 0===n&&(n=!1),void 0===r&&(r=!1);try{var i=this;return i.fullPath=y.default.join(t,e),Promise.resolve(i.setPath(i.fullPath,n,r)).then(function(){return i})}catch(t){return Promise.reject(t)}},e.relativeTo=function(t){return y.default.relative(this.fullPath,t)},e.relativeFrom=function(t){return y.default.relative(t,this.fullPath)},e.join=function(t){return y.default.join(this.fullPath,t)},e.joinTo=function(t){return y.default.join(t,this.fullPath)},e.getChildren=function(){try{return Promise.resolve("file"===this.type?[]:De.readdir(this.fullPath,{withFileTypes:!0}))}catch(t){return Promise.reject(t)}},e.getChildDirs=function(){try{return"file"===this.type?Promise.resolve([]):Promise.resolve(De.readdir(this.fullPath,{withFileTypes:!0})).then(function(t){return t.filter(function(t){return t.isDirectory()})})}catch(t){return Promise.reject(t)}},e.getChildFiles=function(){try{return"file"===this.type?Promise.resolve([]):Promise.resolve(De.readdir(this.fullPath,{withFileTypes:!0})).then(function(t){return t.filter(function(t){return t.isFile()})})}catch(t){return Promise.reject(t)}},e.loadContent=function(t){void 0===t&&(t=!0);try{var e=this;return Promise.resolve(De.readFile(e.fullPath,{encoding:"utf8"})).then(function(n){return e.content=n,e.loaded=!0,t&&e.parseJsonContent(),e})}catch(t){return Promise.reject(t)}},e.setContent=function(t,e){void 0===e&&(e=!0);try{var n=this;return n.content=t,n.loaded=!0,e&&n.parseJsonContent(),Promise.resolve(n)}catch(t){return Promise.reject(t)}},e.ensurePath=function(){try{return Promise.resolve(De.ensureDir(this.dir)).then(function(){})}catch(t){return Promise.reject(t)}},e.save=function(t){void 0===t&&(t="utf8");try{var e=this;return"file"!==e.type?Promise.resolve(void 0):Promise.resolve(e.ensurePath()).then(function(){return Promise.resolve(De.writeFile(e.fullPath,e.content,{encoding:t})).then(function(){return e.exists=!0,e})})}catch(t){return Promise.reject(t)}},e.delete=function(){try{var t=this,e=function(){if("file"===t.type&&t.exists)return Promise.resolve(De.remove(t.fullPath)).then(function(){t.exists=!1})}();return Promise.resolve(e&&e.then?e.then(function(){}):void 0)}catch(t){return Promise.reject(t)}},e.replaceContent=function(t,e){return this.content=this.content.replace(t,e),this},e.replacePath=function(t,e){return this.fullPath=this.fullPath.replace(t,e),this},e.replaceLines=function(t){var e=this.content.split("\n").map(function(e,n){return t(e,n)}).join("\n");return this.content=e,this},e.addIndent=function(t){return void 0===t&&(t=Ae),this.content=t+this.content.replace(/\n/g,"\n"+t),this},e.lines=function(){return this.content.split("\n")},e.minIndent=function(t){void 0===t&&(t="        ");for(var e,n=t,r=S(this.lines());!(e=r()).done;){var i=e.value;if(!We.test(i)&&i[1].length<n.length){if(!i.match(Me))continue;if(0===i[1].length)return"";n=i[1]}}return n},e.parseJsonContent=function(){if("file"===this.type&&this.content){try{this.json=JSON.parse(this.content)}catch(t){t instanceof SyntaxError&&(null==console.log||console.log("NodeXPath - ParseJson SyntaxError:",t))}return this}},e.parseJson=function(){if("file"===this.type&&this.content)try{return JSON.parse(this.content)}catch(t){t instanceof SyntaxError&&(null==console.log||console.log("NodeXPath - ParseJson SyntaxError:",t))}},t}();_e.sep=y.default.sep;var $e,Me=/^\s*/,We=/^\s*$/,Ae="    ",qe=["**/bin/**","**/node_modules/**","**/obj/**"],Ue=process.cwd();t.FileSearchType=void 0,($e=t.FileSearchType||(t.FileSearchType={})).exact="exact",$e.start="start",$e.end="end",$e.contains="contains";var Ye=function(e){void 0===e&&(e={});var n=e.term,r=e.ext,i=e.mustHaveExt,o=void 0===i||i,c=e.searchType,s=e.allowMultipleExt,a=void 0!==s&&s,u="**/";switch(void 0===c?t.FileSearchType.contains:c){case t.FileSearchType.exact:u+=""+n;break;case t.FileSearchType.start:u+=n+"*";break;case t.FileSearchType.end:u+="*"+n;break;case t.FileSearchType.contains:u+="*"+n+"*"}return a&&(u+="?(.!(.))"),r&&(Array.isArray(r)?u+=".+("+r.join("|")+")":u+="."+r),o&&!r&&(u+=".*"),u},Be={fromPath:_e.fromPath,fromPathWithContent:_e.fromPathWithContent,fromRelPath:_e.fromRelPath,fromRelPathWithContent:_e.fromRelPathWithContent,sep:y.default.sep,processCwd:Ue,standardGlobIngorePattern:qe,glob:function(t,e){try{var n=null!=e?e:{},r=n.ignore,i=void 0===r?qe:r,o=n.cwd,c=void 0===o?Ue:o,a=n.nocase,u=void 0===a||a,f=n.dot,l=void 0===f||f,d=n.addIgnore,h=n.fullPaths;return d&&(i=[].concat(i,d)),Promise.resolve(s.glob.glob(t,{ignore:i,cwd:c,nocase:u,dot:l})).then(function(t){return h&&(t=t.map(function(t){return y.default.join(c,t)})),t})}catch(t){return Promise.reject(t)}},searchPath:function(t){try{var e=null!=t?t:{},n=e.addIgnore,r=e.ignore,i=void 0===r?qe:r,o=e.cwd,c=void 0===o?Ue:o,s=e.nocase,a=void 0===s||s,u=e.dot,f=void 0===u||u,l=e.fullPaths,d=void 0===l||l,h=m(e,Re),y=Ye(p({},h));return Promise.resolve(Be.glob(y,{ignore:i,cwd:c,nocase:a,dot:f,addIgnore:n,fullPaths:d}))}catch(t){return Promise.reject(t)}},search:function(t){try{var e=null!=t?t:{},n=e.match,r=e.pathMatch,i=m(e,Je);return Promise.resolve(Be.searchPath(p({},i))).then(function(t){var e=n?new RegExp(n):void 0,i=r?new RegExp(r):void 0,o=[],c=function(t,e,n){if("function"==typeof t[Te]){var r,i,o,c=t[Te]();if(function t(n){try{for(;!(r=c.next()).done;)if((n=e(r.value))&&n.then){if(!Le(n))return void n.then(t,o||(o=Ce.bind(null,i=new Ie,2)));n=n.v}i?Ce(i,1,n):i=n}catch(t){Ce(i||(i=new Ie),2,t)}}(),c.return){var s=function(t){try{r.done||c.return()}catch(t){}return t};if(i&&i.then)return i.then(s,function(t){throw s(t)});s()}return i}if(!("length"in t))throw new TypeError("Object is not iterable");for(var a=[],u=0;u<t.length;u++)a.push(t[u]);return function(t,e,n){var r,i,o=-1;return function n(c){try{for(;++o<t.length;)if((c=e(o))&&c.then){if(!Le(c))return void c.then(n,i||(i=Ce.bind(null,r=new Ie,2)));c=c.v}r?Ce(r,1,c):r=c}catch(t){Ce(r||(r=new Ie),2,t)}}(),r}(a,function(t){return e(a[t])})}(t,function(t){return Promise.resolve(Be.load(t)).then(function(n){e&&!e.test(n)||i&&!i.test(t)||o.push({path:t,content:n})})});return c&&c.then?c.then(function(){return o}):o})}catch(t){return Promise.reject(t)}},searchJson:function(t){try{var e=(null!=t?t:{}).ext;return Promise.resolve(Be.search(p({},t,{ext:void 0===e?"json":e}))).then(function(t){for(var e,n=[],r=S(t);!(e=r()).done;){var i=e.value,o=Be.parseJson(i.content);o&&n.push({path:i.path,json:o})}return n})}catch(t){return Promise.reject(t)}},findPath:function(t){try{return Promise.resolve(Be.searchPath(t)).then(function(t){return null==t?void 0:t[0]})}catch(t){return Promise.reject(t)}},find:function(t){try{return Promise.resolve(Be.findPath(t)).then(function(t){return t?Promise.resolve(Be.load(t)).then(function(e){return{path:t,content:e}}):void 0})}catch(t){return Promise.reject(t)}},findJson:function(t){try{var e=(null!=t?t:{}).ext;return Promise.resolve(Be.find(p({},t,{ext:void 0===e?"json":e}))).then(function(t){if(t){var e=[],n=Be.parseJson(t.content);if(n)return e.push({path:t.path,json:n}),e}})}catch(t){return Promise.reject(t)}},filename:function(t){return y.default.basename(t)},dir:function(t){return y.default.dirname(t)},join:function(){return y.default.join.apply(y.default,[].slice.call(arguments))},lines:function(t){return t.split("\n")},trimEmptyLines:function(t){return t.replace(/^(\s*\n)+/,"").replace(/(\n\s*)+$/,"")},removeEmptyLines:function(t){return t.replace(/^\s*\n/gm,"")},addIndent:function(t,e){return void 0===e&&(e=Ae),t.replace(/(^|\n)/g,"$1"+e)},removeIndent:function(t,e){return void 0===e&&(e=Ae),t.replace(new RegExp("(^|\n)"+e,"g"),"$1")},minIndent:function(t,e){void 0===e&&(e="        ");for(var n,r=e,i=S(t.split("\n"));!(n=i()).done;){var o=n.value;if(0!==o.length&&!We.test(o)){var c=o.match(Me);if(c){if(0===c[0].length)return"";c[0].length<r.length&&(r=c[0])}}}return r},load:function(t,e){var n=void 0===e?{}:e,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?"":o,s=n.encoding,a=void 0===s?"utf8":s;try{return Promise.resolve(De.pathExists(t)).then(function(e){return e?Promise.resolve(De.readFile(t,{encoding:a})).then(function(t){return i?t.replace(/\r\n/g,"\n"):t}):c})}catch(t){return Promise.reject(t)}},loadSync:function(t,e){var n=void 0===e?{}:e,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?"":o,s=n.encoding,a=void 0===s?"utf8":s;if(!De.pathExistsSync(t))return c;var u=De.readFileSync(t,{encoding:a});return i?u.replace(/\r\n/g,"\n"):u},parseJson:function(t){try{return JSON.parse(t)}catch(e){e instanceof SyntaxError?null==console.log||console.log("NodeXPath - ParseJson SyntaxError:\n",e,t):null==console.log||console.log("NodeXPath - ParseJson ParseError:",e)}},loadJson:function(t,e){var n=void 0===e?{}:e,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?{}:o,s=n.encoding,a=void 0===s?"utf8":s;try{return Promise.resolve(De.pathExists(t)).then(function(e){return e?Promise.resolve(Be.load(t,{stripReturnFeed:i,encoding:a})).then(function(t){var e;return null!=(e=Be.parseJson(t))?e:c}):c})}catch(t){return Promise.reject(t)}},loadJsonSync:function(t,e){var n=void 0===e?{}:e,r=n.stripReturnFeed,i=void 0===r||r,o=n.defaultContent,c=void 0===o?{}:o,s=n.encoding,a=void 0===s?"utf8":s;if(!De.pathExistsSync(t))return c;var u=Be.loadSync(t,{stripReturnFeed:i,encoding:a});try{return JSON.parse(u)}catch(t){null==console.log||console.log("NodeXPath - loadJson SyntaxError:",t)}return c},save:function(t,e,n){var r=(void 0===n?{}:n).encoding,i=void 0===r?"utf8":r;try{return Promise.resolve(De.ensureDir(y.default.dirname(t))).then(function(){return Promise.resolve(De.writeFile(t,e,{encoding:i})).then(function(){})})}catch(t){return Promise.reject(t)}},saveSync:function(t,e,n){var r=(void 0===n?{}:n).encoding,i=void 0===r?"utf8":r;De.ensureDirSync(y.default.dirname(t)),De.writeFileSync(t,e,{encoding:i})},delete:function(t){try{return Promise.resolve(De.pathExists(t)).then(function(e){var n=function(){if(e)return Promise.resolve(De.remove(t)).then(function(){})}();if(n&&n.then)return n.then(function(){})})}catch(t){return Promise.reject(t)}},deleteSync:function(t){De.pathExistsSync(t)&&De.removeSync(t)},exists:function(t){try{return Promise.resolve(De.pathExists(t))}catch(t){return Promise.reject(t)}},existsSync:function(t){return De.pathExistsSync(t)},ensureDir:function(t){try{return Promise.resolve(De.pathExists(t)).then(function(e){var n;function r(e){return n?e:(y.default.parse(t).ext&&(i=y.default.dirname(t)),Promise.resolve(De.ensureDir(i)).then(function(){}))}var i=t,o=function(){if(e)return Promise.resolve(De.stat(t)).then(function(e){return e.isFile()&&(i=y.default.dirname(t)),Promise.resolve(De.ensureDir(i)).then(function(){n=1})})}();return o&&o.then?o.then(r):r(o)})}catch(t){return Promise.reject(t)}},ensureDirSync:function(t){var e=t;if(De.pathExistsSync(t))return De.statSync(t).isFile()&&(e=y.default.dirname(t)),void De.ensureDirSync(e);y.default.parse(t).ext&&(e=y.default.dirname(t)),De.ensureDirSync(e)},isFile:function(t){try{return Promise.resolve(De.pathExists(t)).then(function(e){return!!e&&Promise.resolve(De.stat(t)).then(function(t){return t.isFile()})})}catch(t){return Promise.reject(t)}},isFileSync:function(t){return!!De.pathExistsSync(t)&&De.statSync(t).isFile()},isDir:function(t){try{return Promise.resolve(De.pathExists(t)).then(function(e){return!!e&&Promise.resolve(De.stat(t)).then(function(t){return t.isDirectory()})})}catch(t){return Promise.reject(t)}},isDirSync:function(t){return!!De.pathExistsSync(t)&&De.statSync(t).isDirectory()},children:function(t,e){var n=void 0===e?{}:e,r=n.encoding,i=n.recursive;try{return Promise.resolve(De.pathExists(t)).then(function(e){return e?Promise.resolve(De.readdir(t,{withFileTypes:!0,recursive:i,encoding:r})):[]})}catch(t){return Promise.reject(t)}},childDirs:function(t,e){var n=void 0===e?{}:e,r=n.encoding,i=n.recursive;try{return Promise.resolve(De.pathExists(t)).then(function(e){return e?Promise.resolve(De.readdir(t,{withFileTypes:!0,encoding:r,recursive:i})).then(function(t){return t.filter(function(t){return t.isDirectory()})}):[]})}catch(t){return Promise.reject(t)}},childFiles:function(t,e){var n=void 0===e?{}:e,r=n.encoding,i=n.recursive;try{return Promise.resolve(De.pathExists(t)).then(function(e){return e?Promise.resolve(De.readdir(t,{withFileTypes:!0,encoding:r,recursive:i})).then(function(t){return t.filter(function(t){return t.isFile()})}):[]})}catch(t){return Promise.reject(t)}},relativeTo:function(t,e){return y.default.relative(t,e)}};t.NodeXPath=_e,t.constructGlobPattern=Ye,t.emptyLineRegex=We,t.fx=function(t){return _e.fromPath(t)},t.indentRegex=Me,t.processCwd=Ue,t.setIndent=function(t){Ae=t},t.standardGlobIngorePattern=qe,t.x=Be});
//# sourceMappingURL=NodeXPath.umd.js.map
